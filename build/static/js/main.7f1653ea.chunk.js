(this.webpackJsonpokay=this.webpackJsonpokay||[]).push([[0],{115:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),i=n.n(r),o=n(7),l=n(150),u=n(153),d=n(152),s=(n(95),n(12)),m=n(87),f=n(1),b=(n(96),c.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32",width:"28px",height:"28px",fill:"#7D4CDB"},c.a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),c.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},c.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"})))),p=function(){return c.a.createElement(m.a,{align:"center",justify:"center"},b)};function h(){var e=Object(s.a)(["\nbackground-color: rgba(255, 255, 255, .6);\n"]);return h=function(){return e},e}var j=Object(f.default)(m.a)(h()),O=function(e){return c.a.createElement(u.a,{anchor:"center",fill:!0,id:"overlay-stack",className:"overflow-container"},e.children,e.show&&c.a.createElement(j,{pad:"medium",round:"medium"},c.a.createElement(p,null)))},g=Object(a.createContext)({}),E=Object(a.createContext)({}),v=n(138),w=n(151),y=function(e){var t=e.toggleModal,n=e.showModal;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(c.a.Fragment,null,Object(a.createElement)(n),c.a.createElement(w.a,{className:"close-button",primary:!0,icon:c.a.createElement(v.a,null),onClick:function(){return t(!1)}})))},k=n(19),x=n(11),S=n(29),C=n(46),D=n(45),N=n(82),z=n(49);Object(z.initializeApp)({apiKey:"AIzaSyDj00a0U6ld-u8Pne_BsT9qJfAUb3IW3Y4",authDomain:"okay-2be48.firebaseapp.com",databaseURL:"https://okay-2be48.firebaseio.com",projectId:"okay-2be48",storageBucket:"okay-2be48.appspot.com",messagingSenderId:"481288243512",appId:"1:481288243512:web:4649a66235f19d7f6d19cd",measurementId:"G-EERCZ4N2XZ"}),Object(z.analytics)();var A=Object(z.database)(),M=function(){function e(t){Object(S.a)(this,e),this.dbName=t,this._db=void 0,this.items=[],this.g=void 0,this._db=A.ref().child(t)}return Object(N.a)(e,[{key:"getAll",value:function(){var e=this;return this._db.once("value",(function(t){e.items=t.val()})).then((function(t){return e.items}))}},{key:"get",value:function(e){return A.ref().child(this.dbName+"/"+e).once("value").then((function(e){return e&&e.exists()?e.val():void 0}))}},{key:"add",value:function(e){var t=this._db.push();return e.id=t.key,e.dateCreated=new Date,t.set(e).then((function(t){return e}))}},{key:"update",value:function(e,t){return A.ref().child(this.dbName+"/"+e).update(t).then((function(){console.log("Success updating ".concat(e))}))}}]),e}(),U=new(function(e){Object(C.a)(n,e);var t=Object(D.a)(n);function n(){return Object(S.a)(this,n),t.call(this,"items")}return n}(M)),R=n(154),I=n(148),L=n(141),q=n(44);function B(){var e=Object(s.a)(["\n  flex: 1 2 auto;\n  flex-direction: column;\n  justify-content: space-between;\n  display: flex;\n"]);return B=function(){return e},e}var _=Object(f.default)(q.a)(B()),F=Object(d.c)((function(e){var t=e.history,n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],l=r[1],u=[{property:"name",primary:!0,header:c.a.createElement(R.a,null,"Name")},{property:"tags",primary:!0,header:c.a.createElement(R.a,null,"Tags"),render:function(e){}},{property:"quantity",header:c.a.createElement(R.a,null,"#")}];Object(a.useEffect)((function(){U.getAll().then((function(e){return l(Object.entries(e).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(x.a)(Object(x.a)({},a),{},{id:n})})))})).catch((function(e){return console.error(e)}))}),[]);var d=function(){t.push("/items/new")};return c.a.createElement(m.a,{justify:"between",direction:"column",align:"center",fill:!0,id:"list"},c.a.createElement(_,{onSwipedDown:d},c.a.createElement(I.a,{columns:u,data:Object.values(i).map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})})),onClickRow:function(e){var n=e.datum;t.push("/item/".concat(n.id))}}),c.a.createElement(m.a,{direction:"row",justify:"center",pad:"medium"},c.a.createElement(w.a,{primary:!0,icon:c.a.createElement(L.a,null),onClick:d}))))})),P=n(146),J=n(147),T=n(25),Z=new(function(e){Object(C.a)(n,e);var t=Object(D.a)(n);function n(){return Object(S.a)(this,n),t.call(this,"tags")}return n}(M)),G=n(149),K=n(137),W=n(142),X=function(e){e.onClick;var t=e.loading,n=(e.setLoading,e.icon),a=void 0===n?W.a:n;c.a.Fragment,!t&&c.a.createElement(a);return c.a.createElement(c.a.Fragment,null)},Y=n(86),H=n(143),Q=function(e,t){return c.a.createElement(m.a,{background:"status-warning",direction:"row",align:"center",round:"xsmall",pad:{top:"small",bottom:"small",left:"medium",right:"medium"},gap:"small",margin:"small"},c.a.createElement(R.a,{size:"small",weight:"bold"},"# ",e),t&&c.a.createElement(m.a,{onClick:t,background:{color:"white",opacity:"strong"},round:"full"},c.a.createElement(H.a,{color:"brand",style:{width:"12px",height:"12px"}})))},V=function(e){var t=e.children,n=e.onRemove;Object(Y.a)(e,["children","onRemove"]);return n?c.a.createElement(w.a,{onClick:n},Q(t,n)):Q(t,n)},$=function(e){return function(){Z.getAll().then((function(t){var n=new Map([]);Object.values(t).forEach((function(e){n.set(e.id,e)})),e(n)}))}},ee=function(e){var t=e.tags,n=e.onRemove,r=Object(a.useState)([]),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(a.useState)(new Map([])),s=Object(o.a)(d,2),f=s[0],b=s[1];return Object(a.useEffect)($(b),[t]),Object(a.useEffect)((function(){}),[f]),Object(a.useEffect)((function(){var e=Object(T.a)(t).map((function(e){return f.get(e)}));u(e)}),[t]),c.a.createElement(m.a,{align:"center",direction:"row",wrap:!0,pad:{left:"xsmall"}},l&&l.length&&l.map((function(e,t){return e?c.a.createElement(V,{key:e.id,onRemove:n?function(){return n(e)}:void 0},e.name):c.a.createElement("div",{key:t})})))};function te(){var e=Object(s.a)(["\nposition: absolute;\ntop: 50%;\n"]);return te=function(){return e},e}function ne(){var e=Object(s.a)(["\nbackground-color: rgba(255, 255, 255, .5);\n"]);return ne=function(){return e},e}var ae=Object(f.default)(G.a)(ne()),ce=Object(f.default)(m.a)(te()),re=Object(d.c)((function(e){var t=e.match,n=e.details,r=e.location.state,i=e.history,l=t.params.id,u=Object(a.useState)(new Set([])),d=Object(o.a)(u,2),s=d[0],f=d[1],b=Object(a.useState)(!1),p=Object(o.a)(b,2),h=(p[0],p[1],Object(a.useState)("")),j=Object(o.a)(h,2),O=j[0],g=j[1],E=Object(a.useState)(new Map([])),v=Object(o.a)(E,2),y=v[0],k=v[1],S=Object(a.useState)(!1),C=Object(o.a)(S,2),D=C[0],N=C[1];Object(a.useEffect)($(k),[]),Object(a.useEffect)((function(){f(new Set(n?n.tags:r.details.tags))}),[n]);var z=function(){Z.add({name:O}).then((function(e){s.add(e.id),y.set(e.id,e),U.update(l,{id:l,tags:Object(T.a)(s)})}))},A=function(t){U.update(l,Object(x.a)(Object(x.a)({},e.details),{},{tags:t}))};return c.a.createElement(m.a,{justify:"start",fill:!0},c.a.createElement(m.a,{direction:"row"},c.a.createElement(ee,{tags:s,onRemove:function(e){var t=new Set(s);t.delete(e.id),f(t),A(Object(T.a)(t))}})),c.a.createElement(K.a,{onEnter:z},c.a.createElement(ce,{fill:"horizontal",pad:"large"},c.a.createElement(m.a,{direction:"row"},c.a.createElement(ae,{value:O,suggestions:(console.log(y),Object(T.a)(y.values()).filter((function(e){return!s.has(e.id)})).map((function(e){return{label:e.name,value:e.id}}))),onSelect:function(e){var t=e.suggestion.value,n=Object(T.a)(s);n.push(t),f(new Set(n)),A(n)},onChange:function(e){var t=e.target.value;g(t)}}),c.a.createElement(m.a,{direction:"row",align:"center",pad:{left:"large"}},O&&c.a.createElement(w.a,{icon:c.a.createElement(L.a,null),onClick:z}),c.a.createElement(X,{onClick:function(){i.push("/item/".concat(n.id,"/edit/date"))},loading:D,setLoading:N}))))))})),ie=Object(d.c)((function(e){var t=e.details,n=(e.onUpdate,e.history),r=Object(a.useState)("Name"),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(a.useState)(!1),s=Object(o.a)(d,2),f=s[0],b=s[1];Object(a.useEffect)((function(){u(t.name)}),[t]);return c.a.createElement(m.a,{fill:!0,justify:"center",pad:"large",direction:"row"},c.a.createElement(ae,{value:l,onChange:function(e){u(e.target.value)}}),c.a.createElement(m.a,{pad:{left:"medium"}},c.a.createElement(X,{onClick:function(){U.update(t.id,Object(x.a)(Object(x.a)({},t),{},{name:l})).then((function(e){b(!1)})).then((function(e){n.push("/item/".concat(t.id,"/edit/tags"))}))},loading:f,setLoading:b})))})),oe=n(84),le=n.n(oe);function ue(){var e=Object(s.a)(["\nbackground-color: rgba(0, 0, 0, .5)\n"]);return ue=function(){return e},e}function de(){var e=Object(s.a)(["\n&, div {\n  height : 100vh;\n  width: 100vh;\n  }\n"]);return de=function(){return e},e}function se(){var e=Object(s.a)(["\n  height: 50px;\n  width: 50px;\n  padding: 4px;\n"]);return se=function(){return e},e}function me(){var e=Object(s.a)(["\n  height: 50px;\n  width: 50px;\n  padding: 4px;\n  border-radius: 2px;\n  background-color: rgba(255, 255, 255, .7);\n"]);return me=function(){return e},e}function fe(){var e=Object(s.a)(["\nheight: 10vh;\nwidth: 10vh;\ndisplay: flex;\nalign-content: center;\n\nsvg {\n  stroke: white;\n  mix-blend-mode: difference;\n    height: 6vh;\n    width: 6vh;\n  }\n\n"]);return fe=function(){return e},e}function be(){var e=Object(s.a)(["\npadding: 10px;\nborder-radius: 10px;\nsvg {\n  stroke: white;\n  mix-blend-mode: difference;\n}\n"]);return be=function(){return e},e}function pe(){var e=Object(s.a)(["\n  mix-blend-mode: difference;\n  font-weight: 700;\n  margin: 0 0 0 10px;\n  font-size: 70px;\n  line-height: 70px;\n  color: white;\n  // filter: drop-shadow(.05em .05em black);\n  text-align: center;\n"]);return pe=function(){return e},e}function he(){var e=Object(s.a)(["\n  mix-blend-mode: difference;\n  font-weight: 700;\n  margin: 0 0 0 10px;\n  font-size: 200px;\n  line-height: 200px;\n  color: white;\n  // filter: drop-shadow(.05em .05em black);\n  text-align: center;\n"]);return he=function(){return e},e}function je(){var e=Object(s.a)(["\nmix-blend-mode: difference;\nfont-weight: 700;\ncolor: white;\nfont-size: 30px;\n"]);return je=function(){return e},e}var Oe=f.default.span(je()),ge=f.default.span(he()),Ee=f.default.span(pe()),ve=Object(f.default)(w.a)(be()),we=Object(f.default)(w.a)(fe()),ye=(f.default.div(me()),f.default.div(se()),Object(f.default)(le.a)(de())),ke=Object(f.default)(m.a)(ue()),xe=n(144),Se=n(145),Ce=Object(d.c)((function(e){var t=e.details,n=(e.onUpdate,Object(a.useState)(0)),r=Object(o.a)(n,2),i=r[0],l=r[1];Object(a.useEffect)((function(){l(t.quantity||0)}),[t]);var u=function(e){var n=i+e;l(n),U.update(t.id,Object(x.a)(Object(x.a)({},t),{},{quantity:n}))};return c.a.createElement(q.a,{onSwipedDown:function(){return u(-1)},onSwipedUp:function(){return u(1)}},c.a.createElement(m.a,{direction:"column",fill:!0,align:"center",justify:"between"},c.a.createElement(we,{secondary:!0,size:"large",icon:c.a.createElement(xe.a,null),onClick:function(){return u(1)}}),c.a.createElement(m.a,{align:"center"},c.a.createElement(ge,null," ",i),c.a.createElement(Ee,{className:"header-wrapper"},t&&t.name?t.name.toUpperCase():""),c.a.createElement(Oe,null," ",t.date&&new Date(t.date).toLocaleDateString("en-US")),c.a.createElement(ee,{tags:t.tags})),c.a.createElement(we,{secondary:!0,size:"large",icon:c.a.createElement(Se.a,null),onClick:function(){return u(-1)}})))})),De=(n(115),n(85)),Ne=n.n(De);n(123);function ze(){var e=Object(s.a)(["\nbackground-color: rgba(255, 255, 255, .5);\n"]);return ze=function(){return e},e}var Ae=Object(f.default)(m.a)(ze()),Me=Object(d.c)((function(e){var t=e.details,n=e.history,r=Object(a.useState)(new Date),i=Object(o.a)(r,2),l=(i[0],i[1]);Object(a.useEffect)((function(){l(t.date)}),[t]);return c.a.createElement(Ae,null,c.a.createElement(Ne.a,{selectedDays:[t.date],onDayClick:function(e){U.update(t.id,Object(x.a)(Object(x.a)({},t),{},{date:e})),n.push("/item/".concat(t.id))}}))})),Ue=Object(k.a)(),Re=Object(d.c)((function(e){var t=e.match.params.id,n=Object(a.useState)(0),r=Object(o.a)(n,2),i=(r[0],r[1]),l=Object(a.useState)({name:"",date:new Date,tags:[]}),s=Object(o.a)(l,2),f=s[0],b=s[1];Object(a.useEffect)((function(){t&&p()}),[]);var p=function(){U.get(t).then((function(e){b(Object(x.a)(Object(x.a)({},f),e)),i(e&&e.quantity?e.quantity:0)}))},h=f&&f.name.split(" ").join(",")+",food";return c.a.createElement(u.a,{fill:!0,className:"item-stack",id:"item"},c.a.createElement(ye,{keywords:h,width:window.screen.width,height:window.screen.height,style:{backgroundPosition:"center center"}}),c.a.createElement(ke,{fill:!0}),c.a.createElement(m.a,{align:"center",fill:!0,justify:"between"},c.a.createElement(m.a,{direction:"row",justify:"between",pad:"medium",fill:"horizontal"},c.a.createElement(ve,{secondary:!0,icon:c.a.createElement(P.a,null),onClick:function(){return Ue.push("/")}}),c.a.createElement(ve,{secondary:!0,icon:c.a.createElement(J.a,null),onClick:function(){Ue.push("/item/".concat(t,"/edit/name"))}})),c.a.createElement(m.a,{className:"item-router-wrapper",pad:"large"},c.a.createElement(d.b,{history:Ue},c.a.createElement(d.a,{path:"/item/:id/edit/tags"},c.a.createElement(re,{details:f,onUpdate:p})),c.a.createElement(d.a,{path:"/item/:id/edit/date"},c.a.createElement(Me,{details:f,onUpdate:p})),c.a.createElement(d.a,{path:"/item/:id/edit/name"},c.a.createElement(ie,{details:f,onUpdate:p})),c.a.createElement(d.a,{path:"/item/:id",exact:!0},c.a.createElement(Ce,{details:f}))))))})),Ie={calendar:{medium:{daySize:"calc(100vw/8)"}}},Le=Object(k.a)(),qe=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),m=s[0],f=s[1];return c.a.createElement(l.a,{theme:Ie},c.a.createElement(E.Provider,{value:{showModal:m,toggleModal:f}},c.a.createElement(g.Provider,{value:{loadOverlay:n,setLoadOverlay:r}},c.a.createElement(O,{show:n},c.a.createElement(u.a,{fill:!0,className:"overflow-container",id:"initial-stack"},c.a.createElement(d.b,{history:Le},c.a.createElement(d.a,{path:"/item/:id",component:Re}),c.a.createElement(d.a,{exact:!0,path:"/",component:F}))))),c.a.createElement(y,{showModal:m,toggleModal:f})))};n(124);i.a.render(c.a.createElement(qe,null),document.getElementById("root"))},90:function(e,t,n){e.exports=n(125)},95:function(e,t,n){},96:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.7f1653ea.chunk.js.map