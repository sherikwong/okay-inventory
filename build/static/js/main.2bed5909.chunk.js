(this.webpackJsonpokay=this.webpackJsonpokay||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=a(16),l=a(128),u=a(131),m=a(130),s=(a(88),a(35)),d=a(79),f=a(1),b=(a(89),r.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32",width:"28px",height:"28px",fill:"#7D4CDB"},r.a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),r.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"})))),p=function(){return r.a.createElement(d.a,{align:"center",justify:"center"},b)};function h(){var e=Object(s.a)(["\nbackground-color: rgba(255, 255, 255, .6);\n"]);return h=function(){return e},e}var v=Object(f.default)(d.a)(h()),j=function(e){return r.a.createElement(u.a,{anchor:"center",fill:!0,id:"overlay-stack",className:"overflow-container"},e.children,e.show&&r.a.createElement(v,{pad:"medium",round:"medium"},r.a.createElement(p,null)))},g=Object(n.createContext)({}),E=Object(n.createContext)({}),y=a(121),O=a(129),w=function(e){var t=e.toggleModal,a=e.showModal;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(r.a.Fragment,null,Object(n.createElement)(a),r.a.createElement(O.a,{className:"close-button",primary:!0,icon:r.a.createElement(y.a,null),onClick:function(){return t(!1)}})))},k=a(15),x=a(19),A=a(23),C=a(29),_=a(37),M=a(38),N=a(77),S=a(76),I=a(41);Object(I.initializeApp)({apiKey:"AIzaSyDj00a0U6ld-u8Pne_BsT9qJfAUb3IW3Y4",authDomain:"okay-2be48.firebaseapp.com",databaseURL:"https://okay-2be48.firebaseio.com",projectId:"okay-2be48",storageBucket:"okay-2be48.appspot.com",messagingSenderId:"481288243512",appId:"1:481288243512:web:4649a66235f19d7f6d19cd",measurementId:"G-EERCZ4N2XZ"}),Object(I.analytics)();var D=Object(I.database)(),R=new(function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){return Object(_.a)(this,a),t.call(this,"items")}return Object(M.a)(a,[{key:"get",value:function(e){return D.ref().child(this.dbName+"/"+e).once("value").then((function(e){var t=e&&e.exists()?e.val():void 0;return t&&Object(x.a)(Object(x.a)({},t),{},{tags:new Set(t.tags)})}))}},{key:"update",value:function(e,t){return t.tags=t.tags?Object(C.a)(t.tags).filter((function(e){return e})):void 0,this._db.update(Object(A.a)({},e,t))}}]),a}(function(){function e(t){Object(_.a)(this,e),this.dbName=t,this._db=void 0,this._items=[],this._db=D.ref().child(t)}return Object(M.a)(e,[{key:"getAll",value:function(){var e=this;return this._db.once("value",(function(t){e._items=t.val()})).then((function(t){return e._items}))}},{key:"get",value:function(e){return D.ref().child(this.dbName+"/"+e).once("value").then((function(e){return e&&e.exists()?e.val():void 0}))}},{key:"add",value:function(e){var t=this._db.push();return e.dateCreated=new Date,t.set(e).then((function(){return t.key}))}},{key:"update",value:function(e,t){return this._db.update(Object(A.a)({},e,t))}}]),e}())),z=a(132),B=a(126),J=(a(127),a(78)),L=a(122),P=function(e,t){return r.a.createElement(d.a,{background:"status-warning",direction:"row",align:"center",round:"xsmall",pad:{top:"small",bottom:"small",left:"medium",right:"medium"},gap:"small",margin:"small"},r.a.createElement(z.a,{size:"small",weight:"bold"},"# ",e),t&&r.a.createElement(d.a,{background:{color:"white",opacity:"strong"},round:"full"},r.a.createElement(L.a,{color:"brand",style:{width:"12px",height:"12px"}})))},T=function(e){var t=e.children,a=e.onRemove;Object(J.a)(e,["children","onRemove"]);return a?r.a.createElement(O.a,{onClick:a},P(t,a)):P(t,a)},U=a(125),q=a(74);function F(){var e=Object(s.a)(["\n  flex: 1 2 auto;\n  flex-direction: column;\n  justify-content: space-between;\n  display: flex;\n"]);return F=function(){return e},e}var Z=Object(f.default)(q.a)(F()),G=Object(m.c)((function(e){var t=e.history,a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],l=c[1];Object(n.useEffect)((function(){R.getAll().then((function(e){return l(Object.entries(e).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(x.a)(Object(x.a)({},n),{},{id:a})})))})).catch((function(e){return console.error(e)}))}),[]);var u=[{property:"name",primary:!0,header:r.a.createElement(z.a,null,"Name")},{property:"tags",primary:!0,header:r.a.createElement(z.a,null,"Tags"),render:function(e){return t=e.tags,r.a.createElement(d.a,{align:"center",direction:"row",wrap:!0,pad:{left:"xsmall"}},t&&t.map((function(e,t){return r.a.createElement(T,{key:e,onRemove:a?function(){return a(t)}:void 0},e)})));var t,a}},{property:"quantity",header:r.a.createElement(z.a,null,"#")}],m=function(){t.push("/items/new")};return r.a.createElement(d.a,{justify:"between",direction:"column",align:"center",fill:!0,id:"list"},r.a.createElement(Z,{onSwipedDown:m},r.a.createElement(B.a,{columns:u,data:Object.values(o).map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})})),onClickRow:function(e){var a=e.datum;console.log(a,t),t.push("/item/".concat(a.id))}}),r.a.createElement(d.a,{direction:"row",justify:"center",pad:"medium"},r.a.createElement(O.a,{primary:!0,icon:r.a.createElement(U.a,null),onClick:m}))))})),K={calendar:{medium:{daySize:"calc(100vw/8)"}}},W=Object(k.a)(),X=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),d=s[0],f=s[1];return r.a.createElement(l.a,{theme:K},r.a.createElement(E.Provider,{value:{showModal:d,toggleModal:f}},r.a.createElement(g.Provider,{value:{loadOverlay:a,setLoadOverlay:c}},r.a.createElement(j,{show:a},r.a.createElement(u.a,{fill:!0,className:"overflow-container",id:"initial-stack"},r.a.createElement(m.b,{history:W},r.a.createElement(m.a,{exact:!0,path:"/",component:G}))))),r.a.createElement(w,{showModal:d,toggleModal:f})))};a(107);o.a.render(r.a.createElement(X,null),document.getElementById("root"))},83:function(e,t,a){e.exports=a(108)},88:function(e,t,a){},89:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.2bed5909.chunk.js.map