!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash/fp")):"function"==typeof define&&define.amd?define(["lodash/fp"],t):"object"==typeof exports?exports["futil-js"]=t(require("lodash/fp")):e["futil-js"]=t(e["lodash/fp"])}(this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapValuesIndexed=t.pickByIndexed=t.reduceIndexed=t.eachIndexed=t.findIndexed=t.mapIndexed=t.each=t.mapValues=t.reduce=t.updateOn=t.pullOn=t.unsetOn=t.setOn=t.mergeOn=t.defaultsOn=t.extendOn=t.inversions=t.includesIn=t.pickIn=t.hasIn=t.getIn=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(7);var f=a.default.convert({rearg:!1}),i=a.default.convert({immutable:!1}),l=a.default.convert({cap:!1});t.getIn=f.get,t.hasIn=f.has,t.pickIn=f.pick,t.includesIn=f.includes,t.inversions=a.default.mapKeys((function(e){return e+"In"}),f),t.extendOn=i.extend,t.defaultsOn=i.defaults,t.mergeOn=i.merge,t.setOn=i.set,t.unsetOn=a.default.curryN(2,i.unset),t.pullOn=i.pull,t.updateOn=i.update,t.reduce=o.aspects.deprecate("reduce","1.28.0","reduceIndexed")(l.reduce),t.mapValues=o.aspects.deprecate("mapValues","1.28.0","mapValuesIndexed")(l.mapValues),t.each=o.aspects.deprecate("each","1.28.0","eachIndexed")(l.each),t.mapIndexed=l.map,t.findIndexed=l.find,t.eachIndexed=l.each,t.reduceIndexed=l.reduce,t.pickByIndexed=l.pickBy,t.mapValuesIndexed=l.mapValues},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceElement=t.replaceElementBy=t.intersperse=t.toggleElement=t.toggleElementBy=t.chunkBy=t.slashEncoder=t.dotEncoder=t.encoder=t.prefixes=t.flags=t.zipObjectDeepWith=t.arrayToObject=t.cycle=t.mergeRanges=t.moveIndex=t.pushOn=t.pushIn=t.push=t.repeated=t.dotJoinWith=t.dotJoin=t.compactJoin=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(5),f=n(3),i=n(1);function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c,d=(c=a.default.isEmpty,function(e){return function(t){return function(n,r){return c(n)?e(r):c(r)?e(n):t(n,r)}}})((function(e){return[e]})),s=a.default.dropRight(1),p=a.default.takeRight(1),y=t.compactJoin=a.default.curry((function(e,t){return a.default.compact(t).join(e)})),v=(t.dotJoin=y("."),t.dotJoinWith=function(e){return function(t){return a.default.filter(e,t).join(".")}},t.repeated=a.default.flow(a.default.groupBy((function(e){return e})),a.default.filter((function(e){return e.length>1})),a.default.flatten,a.default.uniq),t.push=a.default.curry((function(e,t){return t.concat([e])}))),h=(t.pushIn=a.default.curry((function(e,t){return e.concat([t])})),t.pushOn=a.default.curry((function(e,t){return e.push(t),e})),t.moveIndex=function(e,t,n){return a.default.flow(a.default.pullAt(e),(0,f.insertAtIndex)(t,n[e]))(n)},d((function(e,t){return function(e,t){return t[0]>e[1]}(e,t)?[e,t]:function(e,t){return[[e[0],a.default.max(e.concat(t))]]}(e,t)}))),g=(t.mergeRanges=a.default.flow(a.default.sortBy([0,1]),a.default.reduce((function(e,t){return s(e).concat(h(a.default.flatten(p(e)),t))}),[])),t.cycle=a.default.curry((function(e,t){return e[(e.indexOf(t)+1)%e.length]})),t.arrayToObject=a.default.curry((function(e,t,n){return a.default.flow(a.default.keyBy(e),a.default.mapValues(t))(n)})),t.zipObjectDeepWith=a.default.curry((function(e,t){return a.default.zipObjectDeep(e,a.default.isFunction(t)&&a.default.isArray(e)?a.default.times(t,e.length):t)}))),m=(t.flags=g(a.default,(function(){return!0})),t.prefixes=function(e){return a.default.range(1,e.length+1).map((function(t){return a.default.take(t,e)}))},t.encoder=function(e){return{encode:y(e),decode:a.default.split(e)}}),b=(t.dotEncoder=m("."),t.slashEncoder=m("/"),t.chunkBy=a.default.curry((function(e,t){return a.default.isEmpty(t)?[]:a.default.reduce((function(t,n){return e(a.default.last(t),n)?[].concat(l(a.default.initial(t)),[[].concat(l(a.default.last(t)),[n])]):[].concat(l(t),[[n]])}),[[a.default.head(t)]],a.default.tail(t))})),t.toggleElementBy=a.default.curry((function(e,t,n){return((0,o.callOrReturn)(e,t,n)?a.default.pull:v)(t,n)}))),O=(t.toggleElement=b(a.default.includes),t.intersperse=a.default.curry((function(e,t){var n,r=(n=t,Array.isArray(n)?n:Array.from(n)),u=r[0],a=r.slice(1);return(0,i.reduceIndexed)((function(t,n,r){return r===a.length?[].concat(l(t),[n]):[].concat(l(t),[(0,o.callOrReturn)(e,t,r,a),n])}),[u],a)})),t.replaceElementBy=a.default.curry((function(e,t,n){return a.default.map((function(n){return e(n)?t:n}),n)})));t.replaceElement=a.default.curry((function(e,t,n){return O(a.default.isEqual(e),t,n)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactMap=t.insertAtIndex=t.deepMap=t.map=t.findApply=t.flowMap=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(8);t.flowMap=function(){return a.default.map(a.default.flow.apply(a.default,arguments))},t.findApply=a.default.curry((function(e,t){return a.default.iteratee(e)(a.default.find(e,t))}));var f=t.map=a.default.curry((function(e,t){return(a.default.isArray(t)?a.default.map:a.default.mapValues).convert({cap:!1})(e,t)})),i=t.deepMap=a.default.curry((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.isTraversable;return n((function(t){return r(t)?i(e,e(t),n,r):t}),t)}));t.insertAtIndex=a.default.curry((function(e,t,n){return a.default.isString(n)?function(e,t,n){return n.slice(0,e)+t+n.slice(e)}(e,t,n):function(e,t,n){var r=a.default.clone(n);return r.splice(e,0,t),r}(e,t,n)})),t.compactMap=a.default.curry((function(e,t){return a.default.flow(a.default.map(e),a.default.compact)(t)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBlankDeep=t.isNotBlank=t.isBlank=t.append=t.isMultiple=t.exists=t.isNotNil=t.tapError=t.throws=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(8);t.throws=function(e){throw e},t.tapError=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];throw e.apply(void 0,[t].concat(r)),t}};var f=t.isNotNil=a.default.negate(a.default.isNil),i=(t.exists=f,t.isMultiple=function(e){return(e||[]).length>1},t.append=a.default.curry((function(e,t){return t+e})),t.isBlank=a.default.overSome([a.default.isNil,a.default.isEqual(""),a.default.isEqual([]),a.default.isEqual({})]));t.isNotBlank=a.default.negate(i),t.isBlankDeep=function(e){return function(t){return e(i,(0,o.tree)().leaves(t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapArgs=t.flurry=t.debounceAsync=t.defer=t.comply=t.composeApply=t.converge=t.boundMethod=t.callOrReturn=t.maybeCall=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r};function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.maybeCall=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.default.isFunction(e)&&e.apply(void 0,n)},t.callOrReturn=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.default.isFunction(e)?e.apply(void 0,n):e},t.boundMethod=function(e,t){return t[e].bind(t)},t.converge=function(e,t){return function(){return e(a.default.over(t).apply(void 0,arguments))}};var f,i=t.composeApply=function(e,t){return function(n){return e(t(n))(n)}},l=(t.comply=i,t.defer=function(){var e=void 0,t=void 0,n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}});t.debounceAsync=function(e,t){var n=l(),r=a.default.debounce(e,(function(){n.resolve(t.apply(void 0,arguments)),n=l()}));return function(){return r.apply(void 0,arguments),n.promise}},t.flurry=(f=a.default.flow,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.default.curryN(t[0].length,f.apply(void 0,t))}),t.mapArgs=a.default.curry((function(e,t){return function(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return t.apply(void 0,o(r.map(e)))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.whenTruthy=t.whenExists=t.unless=t.when=t.ifElse=t.overNone=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(5),f=n(4);t.overNone=a.default.flow(a.default.overSome,a.default.negate);var i=t.ifElse=a.default.curry((function(e,t,n,r){return function(e){return a.default.isBoolean(e)||a.default.isNil(e)?function(){return e}:a.default.iteratee(e)}(e)(r)?(0,o.callOrReturn)(t,r):(0,o.callOrReturn)(n,r)})),l=t.when=a.default.curry((function(e,t,n){return i(e,t,a.default.identity,n)}));t.unless=a.default.curry((function(e,t,n){return i(e,a.default.identity,t,n)})),t.whenExists=l(f.exists),t.whenTruthy=l(Boolean)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aspects=t.aspectSync=t.aspect=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(1),f=n(4);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=t.aspect=function(e){var t=e.name,n=void 0===t?"aspect":t,r=e.init,u=void 0===r?a.default.noop:r,o=e.after,c=void 0===o?a.default.noop:o,d=e.before,s=void 0===d?a.default.noop:d,p=e.always,y=void 0===p?a.default.noop:p,v=e.onError,h=void 0===v?f.throws:v;return function(e){var t=e.state,r=void 0===t?{}:t;u(r);var a=i({},n,(function(){for(var t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];var a=void 0,o=void 0;return Promise.resolve().then((function(){return s(n,r)})).then((function(){return e.apply(void 0,l(n))})).then((function(e){a=e})).then((function(){return c(a,r,n)})).catch((function(e){return h(e,r,n)})).catch((function(e){o=e})).then((function(){return y(r,n)})).then((function(){if(o)throw o})).then((function(){return a}))}));return a[n].state=r,a[n]}},d=t.aspectSync=function(e){var t=e.name,n=void 0===t?"aspect":t,r=e.init,u=void 0===r?a.default.noop:r,o=e.after,c=void 0===o?a.default.noop:o,d=e.before,s=void 0===d?a.default.noop:d,p=e.always,y=void 0===p?a.default.noop:p,v=e.onError,h=void 0===v?f.throws:v;return function(e){var t=e.state,r=void 0===t?{}:t;u(r);var a=i({},n,(function(){for(var t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];try{s(n,r);var a=e.apply(void 0,l(n));return c(a,r,n),a}catch(e){throw h(e,r,n),e}finally{y(r,n)}}));return a[n].state=r,a[n]}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.defaultsOn;return c({init:e({error:null}),onError:(0,o.setOn)("error"),name:"error"})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.defaultsOn;return c({init:e({status:null,processing:!1,succeeded:!1,failed:!1,setStatus:function(e){this.status=e,this.failed="failed"===e,this.succeeded="succeeded"===e,this.processing="processing"===e}}),before:function(e,t){t.setStatus("processing")},after:function(e,t){t.setStatus("succeeded")},onError:(0,f.tapError)((function(e,t){t.setStatus("failed")})),name:"status"})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return c({always:function(t){null!==e&&setTimeout((function(){t.setStatus(null)}),e)},name:"clearStatus"})},v=function(){return c({before:function(e,t){if(t.processing)throw Error("Concurrent Runs Not Allowed")},name:"concurrency"})};t.aspects={logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.defaultsOn;return c({init:e({logs:[]}),after:function(e,t){return t.logs.push(e)},name:"logs"})},error:s,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.defaultsOn;return c({init:e({errors:[]}),onError:function(e,t){return t.errors.push(e)},name:"errors"})},status:p,deprecate:function(e,t,n){return d({before:function(){return console.warn("`"+e+"` is deprecated"+(t?" as of "+t:"")+(n?" in favor of `"+n+"`":"")+" "+a.default.trim((Error().stack||"").split("\n")[3]))}})},clearStatus:y,concurrency:v,command:function(e,t){return a.default.flow(p(e),y(t),v(),s(e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tree=t.flatLeaves=t.flattenTree=t.propTreePath=t.treePath=t.treeValues=t.treeKeys=t.keyTreeByWith=t.treeLookup=t.leaves=t.treeToArray=t.treeToArrayBy=t.reduceTree=t.transformTree=t.walkAsync=t.findIndexedAsync=t.walk=t.traverse=t.isTraversable=void 0;var r,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var o,f=e[Symbol.iterator]();!(r=(o=f.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){u=!0,a=e}finally{try{!r&&f.return&&f.return()}finally{if(u)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(0),o=(r=a)&&r.__esModule?r:{default:r},f=n(1),i=n(2);function l(e){return Array.isArray(e)?e:Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=t.isTraversable=function(e){return o.default.isArray(e)||o.default.isPlainObject(e)},s=t.traverse=function(e){return d(e)&&!o.default.isEmpty(e)&&e},p=t.walk=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.noop,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(o,i){return n(o,i,u,a)||(0,f.findIndexed)(e(t)(n,r,[o].concat(c(u)),[i].concat(c(a))),t(o,i,u,a)||[])||r(o,i,u,a)}}},y=t.findIndexedAsync=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.toPairs(n);if(r.length){var a=l(r),f=u(a[0],2),i=f[0],c=f[1],d=a.slice(1);return Promise.resolve(t(c,i,n)).then((function(r){return r?c:d.length?e(t,n,d):void 0}))}},v=t.walkAsync=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.noop,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(o,f){return Promise.resolve(n(o,f,u,a)).then((function(i){return i||y(e(t)(n,r,[o].concat(c(u)),[f].concat(c(a))),t(o,f,u,a)||[])})).then((function(e){return e||r(o,f,u,a)}))}}},h=t.transformTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return o.default.curry((function(t,n){var r=o.default.cloneDeep(n);return p(e)(t)(r),r}))},g=t.reduceTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return o.default.curry((function(t,n,r){return p(e)((function(){for(var e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];n=t.apply(void 0,[n].concat(r))}))(r),n}))},m=t.treeToArrayBy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return o.default.curry((function(t,n){return g(e)((function(e,n){return(0,i.push)(t(n),e)}),[],n)}))},b=t.treeToArray=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return m(e)((function(e){return e}))},O=t.leaves=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return o.default.flow(b(e),o.default.reject(e))},j=t.treeLookup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.identity;return o.default.curry((function(n,r){return o.default.reduce((function(n,r){return o.default.find(t(r),e(n))}),r,n)}))},A=t.keyTreeByWith=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return o.default.curry((function(t,n,r){return o.default.flow(m(e)(o.default.iteratee(n)),o.default.uniq,o.default.keyBy(o.default.identity),o.default.mapValues((function(u){return h(e)((function(e){var r=o.default.iteratee(n)(e)===u;t(e,r,u)}),r)})))(r)}))},w=t.treeKeys=function(e,t,n,r){return[t].concat(c(r))},_=t.treeValues=function(e,t,n){return[e].concat(c(n))},x=t.treePath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.dotEncoder;return function(){return(t.encode||t)(e.apply(void 0,arguments).reverse())}},E=(t.propTreePath=function(e){return x(o.default.flow(_,o.default.map(e)),i.slashEncoder)},t.flattenTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return g(e)((function(e,n){for(var r=arguments.length,u=Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];return o.default.set([t.apply(void 0,[n].concat(u))],n,e)}),{})}}),k=t.flatLeaves=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return o.default.reject(e)};t.tree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.identity;return{walk:p(e),walkAsync:v(e),transform:h(e),reduce:g(e),toArrayBy:m(e),toArray:b(e),leaves:O(e),lookup:j(e,t),keyByWith:A(e),traverse:e,flatten:E(e),flatLeaves:k(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.differentLast=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r};t.differentLast=function(e,t){return function(n,r,u){return r===u.length-1?a.default.iteratee(t)(n,r,u):a.default.iteratee(e)(n,r,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.greaterThanOne=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var a=n(3);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var o=n(5);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var f=n(11);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}));var i=n(12);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var l=n(7);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var c=n(2);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var d=n(6);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var s=n(13);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var p=n(4);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}));var y=n(14);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})}));var v=n(8);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})}));var h=n(9);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})}));var g,m=n(0),b=(g=m)&&g.__esModule?g:{default:g},O=T(u),j=T(a),A=T(o),w=T(f),_=T(i),x=T(l),E=T(c),k=T(d),P=T(s),M=T(p),I=T(y),B=T(v),S=T(h);function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var N=t.greaterThanOne=b.default.lt(1),R=t.VERSION="1.67.2";t.default=r({},O,j,A,w,_,x,E,k,P,M,I,B,S,{greaterThanOne:N,VERSION:R})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueString=t.uniqueStringWith=t.toSentence=t.toSentenceWith=t.autoLabelOptions=t.autoLabelOption=t.autoLabel=t.trimStrings=t.concatStrings=t.parens=t.quote=t.wrap=void 0;var r,u=n(3),a=n(0),o=(r=a)&&r.__esModule?r:{default:r},f=n(6),i=n(2),l=n(9);var c=t.wrap=function(e,t,n){return(e||"")+n+(t||e||"")},d=(t.quote=o.default.partial(c,['"','"']),t.parens=o.default.partial(c,["(",")"]),t.concatStrings=o.default.flow(o.default.compact,o.default.map(o.default.trim),o.default.join(" ")),t.trimStrings=(0,u.map)((0,f.when)(o.default.isString,o.default.trim)),t.autoLabel=o.default.startCase),s=t.autoLabelOption=function(e){return{value:(0,f.when)(o.default.isUndefined,e)(e.value),label:e.label||d((0,f.when)(o.default.isUndefined,e)(e.value))}},p=(t.autoLabelOptions=o.default.map(s),t.toSentenceWith=o.default.curry((function(e,t,n){return o.default.flow((0,i.intersperse)((0,l.differentLast)((function(){return e}),(function(){return t}))),o.default.join(""))(n)}))),y=(t.toSentence=p(", "," and "),t.uniqueStringWith=o.default.curry((function(e,t){var n=function(e){for(var t=e;r[t];)t=e+r[e],r[e]+=1;return r[t]=(r[t]||0)+1,t},r=e(t);return n.cache=r,n.clear=function(){n.cache=r={}},n})));t.uniqueString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y(o.default.countBy(o.default.identity),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstCommonKey=t.commonKeys=t.expandObjectBy=t.expandObject=t.getWith=t.mergeOverAllArrays=t.mergeOverAllWith=t.mergeOverAll=t.omitEmpty=t.omitBlank=t.omitNull=t.omitNil=t.stampKey=t.invertByArray=t.mergeAllArrays=t.pickOn=t.diffArray=t.diff=t.simpleDiffArray=t.simpleDiff=t.unkeyBy=t.cascadeProp=t.cascadePropKey=t.cascadeKey=t.cascadeIn=t.cascade=t.aliasIn=t.alias=t.getOrReturn=t.mapProp=t.compareDeep=t.matchesSome=t.matchesSignature=t.unflattenObject=t.flattenObject=t.isFlatObject=t.unwindArray=t.unwind=t.renameProperty=t.pickInto=t.stripEmptyObjects=t.isNotEmptyObject=t.isEmptyObject=t.compactObject=t.chunkObject=t.singleObjectR=t.singleObject=void 0;var r,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),o=(r=a)&&r.__esModule?r:{default:r},f=n(2),i=n(6),l=n(4),c=n(1),d=n(3),s=n(7),p=n(5);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=o.default.convert({cap:!1}),h=t.singleObject=o.default.curry((function(e,t){return y({},e,t)})),g=t.singleObjectR=o.default.flip(h),m=t.chunkObject=function(e){return o.default.isArray(e)?e:o.default.map(o.default.spread(h),o.default.toPairs(e))},b=(t.compactObject=o.default.pickBy(o.default.identity),t.isEmptyObject=o.default.isEqual({})),O=t.isNotEmptyObject=o.default.negate(b),j=(t.stripEmptyObjects=o.default.pickBy(O),t.pickInto=function(e,t){return o.default.mapValues((0,c.pickIn)(t),e)},t.renameProperty=o.default.curry((function(e,t,n){return o.default.has(e,n)?o.default.flow((function(n){return o.default.set(t,o.default.get(e,n),n)}),o.default.unset(e))(n):n})),t.unwind=o.default.curry((function(e,t){return(0,i.ifElse)(o.default.isArray,o.default.map((function(n){return o.default.set(e,n,t)})),o.default.stubArray,o.default.get(e,t))}))),A=(t.unwindArray=o.default.curry((function(e,t){return o.default.flatMap(j(e))(t)})),t.isFlatObject=(0,i.overNone)([o.default.isPlainObject,o.default.isArray])),w=t.flattenObject=function e(t,n){return(0,c.reduceIndexed)((function(t,r,u){return o.default.merge(t,(A(r)?g:e)(r,(0,f.dotJoinWith)(l.isNotNil)([n,u])))}),{},t)},_=(t.unflattenObject=function(e){return o.default.zipObjectDeep(o.default.keys(e),o.default.values(e))},t.matchesSignature=o.default.curry((function(e,t){return o.default.isObject(t)&&!o.default.difference(o.default.keys(t),e).length})),t.matchesSome=o.default.flow(m,o.default.map(o.default.matches),o.default.overSome),t.compareDeep=o.default.curry((function(e,t,n){return o.default.get(e,t)===n})),t.mapProp=s.aspects.deprecate("mapProp","1.46.0","_.update")(v.update),t.getOrReturn=o.default.curry((function(e,t){return o.default.getOr(t,e,t)})),t.alias=o.default.curry((function(e,t){return o.default.getOr(e,e,t)})),t.aliasIn=o.default.curry((function(e,t){return o.default.getOr(t,t,e)})),t.cascade=o.default.curryN(2,(function(e,t,n){return o.default.flow((0,d.findApply)((function(e){return e&&o.default.iteratee(e)(t)})),o.default.defaultTo(n))(e)}))),x=(t.cascadeIn=o.default.curryN(2,(function(e,t,n){return _(t,e,n)})),t.cascadeKey=o.default.curry((function(e,t){return o.default.find((0,c.getIn)(t),e)})),t.cascadePropKey=o.default.curry((function(e,t){return o.default.find((0,c.hasIn)(t),e)}))),E=(t.cascadeProp=o.default.curry((function(e,t){return o.default.get(x(e,t),t)})),t.unkeyBy=o.default.curry((function(e,t){return(0,c.mapIndexed)((function(t,n){return o.default.extend(t,y({},e||n,n))}))(t)}))),k=t.simpleDiff=function(e,t){var n=w(e);return o.default.flow(w,(0,c.mapValuesIndexed)((function(e,t){return{from:n[t],to:e}})),o.default.omitBy((function(e){return o.default.isEqual(e.from,e.to)})))(t)},P=(t.simpleDiffArray=o.default.flow(k,E("field")),t.diff=function(e,t){var n=w(e),r=w(t);return o.default.flow((0,c.mapValuesIndexed)((function(e,t){return{from:n[t],to:r[t]}})),o.default.omitBy((function(e){return o.default.isEqual(e.from,e.to)})))(o.default.merge(n,r))}),M=(t.diffArray=o.default.flow(P,E("field")),t.pickOn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.flow(o.default.keys,o.default.map((function(n){o.default.includes(n,e)||delete t[n]})))(t)},function(e,t){return o.default.isArray(e)?e.concat(t):void 0}),I=t.mergeAllArrays=o.default.mergeAllWith(M),B=(t.invertByArray=o.default.flow((0,c.mapIndexed)((function(e,t){return(0,f.zipObjectDeepWith)(e,(function(){return[t]}))})),I),t.stampKey=o.default.curry((function(e,t){return(0,c.mapValuesIndexed)((function(t,n){return u({},t,y({},e,n))}),t)})),t.omitNil=function(e){return o.default.omitBy(o.default.isNil,e)},t.omitNull=function(e){return o.default.omitBy(o.default.isNull,e)},t.omitBlank=function(e){return o.default.omitBy(l.isBlank,e)},t.omitEmpty=function(e){return o.default.omitBy(o.default.isEmpty,e)},t.mergeOverAll=o.default.curryN(2,(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.default.flow(o.default.over(e),o.default.mergeAll).apply(void 0,n)})),t.mergeOverAllWith=o.default.curryN(3,(function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),u=2;u<n;u++)r[u-2]=arguments[u];return o.default.flow(o.default.over(t),o.default.mergeAllWith(e)).apply(void 0,r)}))),S=(t.mergeOverAllArrays=B(M),t.getWith=o.default.curry((function(e,t,n){return e(o.default.get(t,n))}))),T=t.expandObject=o.default.curry((function(e,t){return u({},t,e(t))})),N=(t.expandObjectBy=o.default.curry((function(e,t,n){return T(S(t,e))(n)})),t.commonKeys=o.default.curryN(2,(0,p.mapArgs)(o.default.keys,o.default.intersection)),o.default.findKey.convert({cap:!1}));t.firstCommonKey=o.default.curry((function(e,t){return N((function(t,n){return o.default.has(n,e)}),t)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlight=t.highlightFromPostings=t.postingsForWords=t.postings=t.allMatches=t.matchAnyWord=t.matchAllWords=t.wordsToRegexp=t.anyWordToRegexp=t.makeAndTest=t.makeRegex=t.testRegex=void 0;var r,u=n(0),a=(r=u)&&r.__esModule?r:{default:r},o=n(2),f=n(3);var i=t.testRegex=a.default.curry((function(e,t){return new RegExp(e).test(t)})),l=t.makeRegex=function(e){return function(t){return RegExp(t,e)}},c=(t.makeAndTest=function(e){return a.default.flow(l(e),i)},t.anyWordToRegexp=a.default.flow(a.default.words,a.default.join("|"))),d=t.wordsToRegexp=a.default.flow(a.default.words,a.default.map((function(e){return"(?=.*"+e+".*)"})),a.default.join(""),(function(e){return".*"+e+".*"})),s=a.default.curry((function(e,t){var n=RegExp(e(t),"gi");return function(e){return!(!e||!e.match(n))}})),p=(t.matchAllWords=s(d),t.matchAnyWord=s(c),t.allMatches=a.default.curry((function(e,t){for(var n=void 0,r=new RegExp(e,"g"),u=[];null!==(n=r.exec(t));)u.push({text:n[0],start:n.index,end:r.lastIndex});return u})),t.postings=a.default.curry((function(e,t){var n=e.exec(t),r=[];if(e.flags.indexOf("g")<0&&n)r.push([n.index,n.index+n[0].length]);else for(;n;)r.push([n.index,e.lastIndex]),n=e.exec(t);return r}))),y=t.postingsForWords=a.default.curry((function(e,t){return a.default.reduce((function(e,n){return(0,o.push)(p(RegExp(n,"gi"),t),e)}),[])(a.default.words(e))})),v=t.highlightFromPostings=a.default.curry((function(e,t,n,r){var u=0;return a.default.each((function(n){r=(0,f.insertAtIndex)(n[0]+u,e,r),u+=e.length,r=(0,f.insertAtIndex)(n[1]+u,t,r),u+=t.length}),(0,o.mergeRanges)(n)),r}));t.highlight=a.default.curry((function(e,t,n,r){return v(e,t,a.default.isRegExp(n)?p(n,r):a.default.flatten(y(n,r)),r)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateLens=t.domLens=t.off=t.on=t.flip=t.setsWith=t.sets=t.set=t.views=t.view=t.includeLens=t.lensOf=t.lensProp=t.objToFn=t.fnToObj=t.objectLens=t.functionLens=void 0;var r,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var o,f=e[Symbol.iterator]();!(r=(o=f.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){u=!0,a=e}finally{try{!r&&f.return&&f.return()}finally{if(u)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(0),o=(r=a)&&r.__esModule?r:{default:r},f=n(1),i=n(2),l=n(6);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.functionLens=function(e){return function(){if(!arguments.length)return e;e=arguments.length<=0?void 0:arguments[0]}},t.objectLens=function(e){return{get:function(){return e},set:function(t){e=t}}},t.fnToObj=function(e){return{get:e,set:e}},t.objToFn=function(e){return function(){return arguments.length?e.set(arguments.length<=0?void 0:arguments[0]):e.get()}};var d=t.lensProp=function(e,t){return{get:function(){return o.default.get(e,t)},set:function(n){(0,f.setOn)(e,n,t)}}},s=(t.lensOf=function(e){return o.default.reduce((function(t,n){return t[n]=d(n,e),t}),{},o.default.keys(e))},t.includeLens=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{get:function(){return o.default.includes(e,h.apply(void 0,n))},set:function(t){return m.apply(void 0,[o.default.uniq((0,i.toggleElementBy)(!t,e,h.apply(void 0,n)))].concat(n))}}}),p=function(e,t){return{get:e,set:t}},y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1]?o.default.every(o.default.isFunction,t)?p.apply(void 0,t):d.apply(void 0,t):(0,l.when)(o.default.isArray,x)(t[0])},v=function(e){return e.get?e.get():e()},h=t.view=function(){return v(y.apply(void 0,arguments))},g=(t.views=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return h.apply(void 0,t)}},function(e,t){return t.set?t.set(e):t(e)}),m=o.default.curryN(2,(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return g(e,y.apply(void 0,n))}));t.set=m;var b=t.sets=o.default.curryN(2,(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){return m.apply(void 0,[e].concat(n))}})),O=t.setsWith=o.default.curry((function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){return m.apply(void 0,[o.default.iteratee(e)(t)].concat(n))}})),j=(t.flip=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return m.apply(void 0,[!h.apply(void 0,t)].concat(t))}},t.on=b(!0)),A=t.off=b(!1),w=function(e,t){return function(){for(var n,r=arguments.length,u=Array(r),a=0;a<r;a++)u[a]=arguments[a];return c(n={},e,h.apply(void 0,u)),c(n,"onChange",O.apply(void 0,[t].concat(u))),n}},_=function(e){return w(e,(0,l.when)(o.default.hasIn("target."+e),o.default.get("target."+e)))},x=(t.domLens={value:_("value"),checkboxValues:o.default.flow(s,_("checked")),hover:function(){return{onMouseEnter:j.apply(void 0,arguments),onMouseLeave:A.apply(void 0,arguments)}},focus:function(){return{onFocus:j.apply(void 0,arguments),onBlur:A.apply(void 0,arguments)}},targetBinding:_,binding:w},t.stateLens=function(e){var t=u(e,2),n=t[0];return{get:function(){return n},set:t[1]}})}])}));
//# sourceMappingURL=futil-js.js.map