{"version":3,"sources":["webpack://futil-js/webpack/universalModuleDefinition","webpack://futil-js/webpack/bootstrap","webpack://futil-js/external \"lodash/fp\"","webpack://futil-js/./src/conversion.js","webpack://futil-js/./src/array.js","webpack://futil-js/./src/collection.js","webpack://futil-js/./src/lang.js","webpack://futil-js/./src/function.js","webpack://futil-js/./src/logic.js","webpack://futil-js/./src/aspect.js","webpack://futil-js/./src/tree.js","webpack://futil-js/./src/iterators.js","webpack://futil-js/./src/index.js","webpack://futil-js/./src/string.js","webpack://futil-js/./src/object.js","webpack://futil-js/./src/regex.js","webpack://futil-js/./src/lens.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","noRearg","_","convert","rearg","mutable","immutable","noCap","cap","getIn","hasIn","has","pickIn","pick","includesIn","includes","inversions","mapKeys","k","extendOn","extend","defaultsOn","defaults","mergeOn","merge","setOn","set","unsetOn","curryN","unset","pullOn","pull","updateOn","update","reduce","aspects","deprecate","mapValues","each","mapIndexed","map","findIndexed","find","eachIndexed","reduceIndexed","pickByIndexed","pickBy","mapValuesIndexed","check","callUnlessEmptyArray","isEmpty","failFn","fn","x","y","dropRight","last","takeRight","compactJoin","curry","join","compact","push","dotJoin","dotJoinWith","filter","repeated","flow","groupBy","e","length","flatten","uniq","val","arr","concat","actuallMergeRanges","pushIn","pushOn","moveIndex","from","to","pullAt","insertAtIndex","overlaps","max","mergeRange","zipObjectDeepWith","mergeRanges","sortBy","result","range","cycle","a","indexOf","arrayToObject","v","keyBy","zipObjectDeep","isFunction","isArray","times","encoder","flags","prefixes","list","take","separator","encode","decode","split","toggleElementBy","dotEncoder","slashEncoder","chunkBy","f","array","acc","initial","head","tail","callOrReturn","replaceElementBy","toggleElement","intersperse","x0","xs","b","replaceElement","isEqual","flowMap","findApply","iteratee","deepMap","obj","_map","is","isTraversable","index","collection","isString","str","slice","insertAtStringIndex","clone","splice","insertAtArrayIndex","compactMap","throws","tapError","args","isNotNil","negate","isNil","isBlank","exists","isMultiple","append","overSome","isNotBlank","isBlankDeep","combinator","tree","leaves","maybeCall","boundMethod","method","converge","converger","branches","over","composeApply","g","defer","comply","resolve","reject","promise","Promise","res","rej","debounceAsync","deferred","debounced","debounce","flurry","fns","mapArgs","mapper","overNone","ifElse","condition","onTrue","onFalse","isBoolean","boolIteratee","when","identity","unless","whenExists","whenTruthy","Boolean","aspect","init","noop","after","before","always","onError","state","error","then","catch","aspectSync","status","processing","succeeded","failed","setStatus","params","clearStatus","timeout","setTimeout","concurrency","Error","logs","errors","subject","version","alternative","console","warn","trim","stack","command","isPlainObject","traverse","walk","next","pre","post","parents","parentIndexes","findIndexedAsync","data","remaining","toPairs","rest","undefined","walkAsync","preResult","stepResult","transformTree","cloneDeep","reduceTree","treeToArrayBy","treeToArray","treeLookup","buildIteratee","path","keyTreeByWith","transformer","groupIteratee","group","node","matches","treeKeys","treeValues","treePath","build","reverse","flattenTree","propTreePath","prop","buildPath","flatLeaves","transform","toArrayBy","toArray","lookup","keyByWith","differentLast","normalCase","lastCase","conversion","string","logic","regex","lang","lens","iterators","greaterThanOne","lt","VERSION","global","wrap","content","autoLabel","quote","partial","parens","concatStrings","trimStrings","startCase","autoLabelOption","isUndefined","label","toSentenceWith","autoLabelOptions","lastSeparator","uniqueStringWith","toSentence","cachizer","initialKeys","cache","clear","uniqueString","countBy","singleObject","singleObjectR","flip","chunkObject","spread","isEmptyObject","compactObject","isNotEmptyObject","unwind","stripEmptyObjects","pickInto","source","renameProperty","target","stubArray","isFlatObject","unwindArray","flatMap","flattenObject","input","paths","output","cascade","unflattenObject","keys","values","matchesSignature","signature","isObject","difference","matchesSome","compareDeep","item","mapProp","getOrReturn","getOr","alias","aliasIn","defaultValue","defaultTo","cascadePropKey","cascadeIn","cascadeKey","unkeyBy","cascadeProp","keyName","simpleDiff","original","deltas","field","omitBy","diff","simpleDiffArray","mergeArrays","diffArray","pickOn","objValue","srcValue","mergeAllArrays","mergeAllWith","mergeOverAllWith","invertByArray","stampKey","omitNil","omitNull","isNull","omitBlank","omitEmpty","mergeOverAll","mergeAll","customizer","getWith","mergeOverAllArrays","expandObject","findKeyIndexed","expandObjectBy","commonKeys","intersection","findKey","firstCommonKey","testRegex","RegExp","test","makeRegex","options","text","anyWordToRegexp","makeAndTest","words","wordsToRegexp","matchWords","buildRegex","regexp","match","postings","matchAllWords","matchAnyWord","allMatches","regexStr","matched","exec","start","end","lastIndex","postingsForWords","word","highlightFromPostings","offset","posting","highlight","pattern","isRegExp","functionLens","objectLens","fnToObj","objToFn","lensProp","includeLens","lensOf","view","lensPair","construct","every","stateLens","read","write","views","sets","setsWith","on","off","binding","getEventValue","targetBinding","domLens","checkboxValues","hover","onMouseEnter","onMouseLeave","focus","onFocus","onBlur"],"mappings":"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","file":"futil-js.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash/fp\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash/fp\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"futil-js\"] = factory(require(\"lodash/fp\"));\n\telse\n\t\troot[\"futil-js\"] = factory(root[\"lodash/fp\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import _ from 'lodash/fp'\nimport { aspects } from './aspect'\n\nconst noRearg = _.convert({ rearg: false })\nconst mutable = _.convert({ immutable: false })\nconst noCap = _.convert({ cap: false })\n\n// Flips\n// ----------\nexport const getIn = noRearg.get\nexport const hasIn = noRearg.has\nexport const pickIn = noRearg.pick\nexport const includesIn = noRearg.includes\nexport const inversions = _.mapKeys(k => `${k}In`, noRearg)\n\n// Mutables\n// ----------\nexport const extendOn = mutable.extend\nexport const defaultsOn = mutable.defaults\nexport const mergeOn = mutable.merge\nexport const setOn = mutable.set\n// Curry required until https://github.com/lodash/lodash/issues/3440 is resolved\nexport const unsetOn = _.curryN(2, mutable.unset)\nexport const pullOn = mutable.pull\nexport const updateOn = mutable.update\n\n// Uncaps\n// ------\n// Un-prefixed Deprecated\nexport const reduce = aspects.deprecate(\n  'reduce',\n  '1.28.0',\n  'reduceIndexed'\n)(noCap.reduce)\nexport const mapValues = aspects.deprecate(\n  'mapValues',\n  '1.28.0',\n  'mapValuesIndexed'\n)(noCap.mapValues)\nexport const each = aspects.deprecate(\n  'each',\n  '1.28.0',\n  'eachIndexed'\n)(noCap.each)\n\nexport const mapIndexed = noCap.map\nexport const findIndexed = noCap.find\nexport const eachIndexed = noCap.each\nexport const reduceIndexed = noCap.reduce\nexport const pickByIndexed = noCap.pickBy\nexport const mapValuesIndexed = noCap.mapValues\n","import _ from 'lodash/fp'\nimport { callOrReturn } from './function'\nimport { insertAtIndex } from './collection'\nimport { reduceIndexed } from './conversion'\n\n// TODO: Move to proper files and expose\nlet callUnless = check => failFn => fn => (x, y) =>\n  check(x) ? failFn(y) : check(y) ? failFn(x) : fn(x, y)\nlet callUnlessEmpty = callUnless(_.isEmpty)\nlet wrapArray = x => [x]\nlet callUnlessEmptyArray = callUnlessEmpty(wrapArray)\nlet dropRight = _.dropRight(1)\nlet last = _.takeRight(1)\n\n// Arrays\n// ------\nexport let compactJoin = _.curry((join, x) => _.compact(x).join(join))\nexport let dotJoin = compactJoin('.')\nexport let dotJoinWith = fn => x => _.filter(fn, x).join('.')\nexport let repeated = _.flow(\n  _.groupBy(e => e),\n  _.filter(e => e.length > 1),\n  _.flatten,\n  _.uniq\n)\nexport let push = _.curry((val, arr) => arr.concat([val]))\nexport let pushIn = _.curry((arr, val) => arr.concat([val]))\nexport let pushOn = _.curry((arr, val) => {\n  arr.push(val)\n  return arr\n})\n\nexport let moveIndex = (from, to, arr) =>\n  _.flow(_.pullAt(from), insertAtIndex(to, arr[from]))(arr)\n\nlet overlaps = (x, y) => y[0] > x[1]\nlet mergeRange = (x, y) => [[x[0], _.max(x.concat(y))]]\nlet actuallMergeRanges = callUnlessEmptyArray((x, y) =>\n  overlaps(x, y) ? [x, y] : mergeRange(x, y)\n)\nexport let mergeRanges = _.flow(\n  _.sortBy([0, 1]),\n  _.reduce(\n    (result, range) =>\n      dropRight(result).concat(\n        actuallMergeRanges(_.flatten(last(result)), range)\n      ),\n    []\n  )\n)\n\n// [a, b...] -> a -> b\nexport let cycle = _.curry((a, n) => a[(a.indexOf(n) + 1) % a.length])\n\nexport let arrayToObject = _.curry((k, v, a) =>\n  _.flow(_.keyBy(k), _.mapValues(v))(a)\n)\n\n// zipObject that supports functions instead of objects\nexport let zipObjectDeepWith = _.curry((x, y) =>\n  _.zipObjectDeep(x, _.isFunction(y) && _.isArray(x) ? _.times(y, x.length) : y)\n)\n\nexport let flags = zipObjectDeepWith(_, () => true)\n\nexport let prefixes = list =>\n  _.range(1, list.length + 1).map(x => _.take(x, list))\n\nexport let encoder = separator => ({\n  encode: compactJoin(separator),\n  decode: _.split(separator),\n})\nexport let dotEncoder = encoder('.')\nexport let slashEncoder = encoder('/')\n\nexport let chunkBy = _.curry((f, array) =>\n  _.isEmpty(array)\n    ? []\n    : _.reduce(\n        (acc, x) =>\n          f(_.last(acc), x)\n            ? [..._.initial(acc), [..._.last(acc), x]]\n            : [...acc, [x]],\n        [[_.head(array)]],\n        _.tail(array)\n      )\n)\n\nexport let toggleElementBy = _.curry((check, val, arr) =>\n  (callOrReturn(check, val, arr) ? _.pull : push)(val, arr)\n)\nexport let toggleElement = toggleElementBy(_.includes)\n\nexport let intersperse = _.curry((f, [x0, ...xs]) =>\n  reduceIndexed(\n    (acc, x, i) =>\n      i === xs.length ? [...acc, x] : [...acc, callOrReturn(f, acc, i, xs), x],\n    [x0],\n    xs\n  )\n)\n\nexport let replaceElementBy = _.curry((f, b, arr) =>\n  _.map(c => (f(c) ? b : c), arr)\n)\nexport let replaceElement = _.curry((a, b, arr) =>\n  replaceElementBy(_.isEqual(a), b, arr)\n)\n","import _ from 'lodash/fp'\nimport { isTraversable } from './tree'\n\nexport const flowMap = (...fns) => _.map(_.flow(...fns))\nexport let findApply = _.curry((f, arr) => _.iteratee(f)(_.find(f, arr)))\n\n// Algebras\n// --------\n// A generic map that works for plain objects and arrays\nexport let map = _.curry((f, x) =>\n  (_.isArray(x) ? _.map : _.mapValues).convert({ cap: false })(f, x)\n)\n// Map for any recursive algebraic data structure\n// defaults in multidimensional arrays and recursive plain objects\nexport let deepMap = _.curry((fn, obj, _map = map, is = isTraversable) =>\n  _map(e => (is(e) ? deepMap(fn, fn(e), _map, is) : e), obj)\n)\n\nlet insertAtStringIndex = (index, val, str) =>\n  str.slice(0, index) + val + str.slice(index)\nlet insertAtArrayIndex = (index, val, arr) => {\n  let result = _.clone(arr)\n  result.splice(index, 0, val)\n  return result\n}\nexport let insertAtIndex = _.curry((index, val, collection) =>\n  _.isString(collection)\n    ? insertAtStringIndex(index, val, collection)\n    : insertAtArrayIndex(index, val, collection)\n)\n\nexport let compactMap = _.curry((fn, collection) =>\n  _.flow(_.map(fn), _.compact)(collection)\n)\n","import _ from 'lodash/fp'\nimport { tree } from './tree'\n\nexport let throws = x => {\n  throw x\n}\nexport let tapError = f => (e, ...args) => {\n  f(e, ...args)\n  throw e\n}\nexport let isNotNil = _.negate(_.isNil)\nexport let exists = isNotNil\nexport let isMultiple = x => (x || []).length > 1\nexport let append = _.curry((x, y) => y + x)\n\n// True for everything except null, undefined, '', [], and {}\nexport let isBlank = _.overSome([\n  _.isNil,\n  _.isEqual(''),\n  _.isEqual([]),\n  _.isEqual({}),\n])\nexport let isNotBlank = _.negate(isBlank)\nexport let isBlankDeep = combinator => x =>\n  combinator(isBlank, tree().leaves(x))\n","import _ from 'lodash/fp'\n\n// (fn, a, b) -> fn(a, b)\nexport let maybeCall = (fn, ...args) => _.isFunction(fn) && fn(...args)\n// (fn, a, b) -> fn(a, b)\nexport let callOrReturn = (fn, ...args) => (_.isFunction(fn) ? fn(...args) : fn)\n// (a, Monoid f) -> f[a] :: f a\nexport let boundMethod = (method, object) => object[method].bind(object)\n\n// http://ramdajs.com/docs/#converge\nexport let converge = (converger, branches) => (...args) =>\n  converger(_.over(branches)(...args))\n\nexport let composeApply = (f, g) => x => f(g(x))(x)\nexport let comply = composeApply\n\n// Prettier version of `defer` the one from bluebird docs\nexport let defer = () => {\n  let resolve\n  let reject\n  let promise = new Promise((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return {\n    resolve,\n    reject,\n    promise,\n  }\n}\n// `_.debounce` for async functions, which require consistently returning a single promise for all queued calls\nexport let debounceAsync = (n, f) => {\n  let deferred = defer()\n  let debounced = _.debounce(n, (...args) => {\n    deferred.resolve(f(...args))\n    deferred = defer()\n  })\n  return (...args) => {\n    debounced(...args)\n    return deferred.promise\n  }\n}\n\nlet currier = f => (...fns) => _.curryN(fns[0].length, f(...fns))\n// (f1, f2, ...fn) -> f1Args1 -> f1Arg2 -> ...f1ArgN -> fn(f2(f1))\nexport let flurry = currier(_.flow)\n\n// like _.overArgs, but on all args\nexport let mapArgs = _.curry((mapper, fn) => (...x) => fn(...x.map(mapper)))\n","import _ from 'lodash/fp'\nimport { callOrReturn } from './function'\nimport { exists } from './lang'\n\n// ([f, g]) -> !f(x) && !g(x)\nexport const overNone = _.flow(_.overSome, _.negate)\n\nlet boolIteratee = x => (_.isBoolean(x) || _.isNil(x) ? () => x : _.iteratee(x))\n// Port from Ramda\nexport let ifElse = _.curry((condition, onTrue, onFalse, x) =>\n  boolIteratee(condition)(x)\n    ? callOrReturn(onTrue, x)\n    : callOrReturn(onFalse, x)\n)\nexport let when = _.curry((condition, t, x) =>\n  ifElse(condition, t, _.identity, x)\n)\nexport let unless = _.curry((condition, f, x) =>\n  ifElse(condition, _.identity, f, x)\n)\n\nexport let whenExists = when(exists)\nexport let whenTruthy = when(Boolean)\n","import _ from 'lodash/fp'\nimport { defaultsOn, setOn } from './conversion'\nimport { throws, tapError } from './lang'\n\n// Core\nexport let aspect = ({\n  name = 'aspect',\n  init = _.noop,\n  after = _.noop,\n  before = _.noop,\n  always = _.noop,\n  onError = throws,\n  // ?: interceptParams, interceptResult, wrap\n}) => f => {\n  let { state = {} } = f\n  init(state)\n  // Trick to set function.name of anonymous function\n  let x = {\n    [name](...args) {\n      let result\n      let error\n      return Promise.resolve()\n        .then(() => before(args, state))\n        .then(() => f(...args))\n        .then(r => {\n          result = r\n        })\n        .then(() => after(result, state, args))\n        .catch(e => onError(e, state, args))\n        .catch(e => {\n          error = e\n        })\n        .then(() => always(state, args))\n        .then(() => {\n          if (error) throw error\n        })\n        .then(() => result)\n    },\n  }\n  x[name].state = state\n  return x[name]\n}\n\nexport let aspectSync = ({\n  name = 'aspect',\n  init = _.noop,\n  after = _.noop,\n  before = _.noop,\n  always = _.noop,\n  onError = throws,\n  // ?: interceptParams, interceptResult, wrap\n}) => f => {\n  let { state = {} } = f\n  init(state)\n  // Trick to set function.name of anonymous function\n  let x = {\n    [name](...args) {\n      try {\n        before(args, state)\n        let result = f(...args)\n        after(result, state, args)\n        return result\n      } catch (e) {\n        onError(e, state, args)\n        throw e\n      } finally {\n        always(state, args)\n      }\n    },\n  }\n  x[name].state = state\n  return x[name]\n}\n\n// Example Aspects\nlet logs = (extend = defaultsOn) =>\n  aspect({\n    init: extend({ logs: [] }),\n    after: (result, state) => state.logs.push(result),\n    name: 'logs',\n  })\nlet error = (extend = defaultsOn) =>\n  aspect({\n    init: extend({ error: null }),\n    onError: setOn('error'),\n    name: 'error',\n  })\nlet errors = (extend = defaultsOn) =>\n  aspect({\n    init: extend({ errors: [] }),\n    onError: (e, state) => state.errors.push(e),\n    name: 'errors',\n  })\nlet status = (extend = defaultsOn) =>\n  aspect({\n    init: extend({\n      status: null,\n      processing: false,\n      succeeded: false,\n      failed: false,\n      // Computed get/set properties don't work, probably because lodash extend methods don't support copying them\n      setStatus(x) {\n        this.status = x\n        this.failed = x === 'failed'\n        this.succeeded = x === 'succeeded'\n        this.processing = x === 'processing'\n      },\n    }),\n    before(params, state) {\n      state.setStatus('processing')\n    },\n    after(result, state) {\n      state.setStatus('succeeded')\n    },\n    onError: tapError((e, state) => {\n      state.setStatus('failed')\n    }),\n    name: 'status',\n  })\nlet clearStatus = (timeout = 500) =>\n  aspect({\n    always(state) {\n      if (timeout !== null) {\n        setTimeout(() => {\n          state.setStatus(null)\n        }, timeout)\n      }\n    },\n    name: 'clearStatus',\n  })\n// This is a function just for consistency\nlet concurrency = () =>\n  aspect({\n    before(params, state) {\n      if (state.processing) {\n        throw Error('Concurrent Runs Not Allowed')\n      }\n    },\n    name: 'concurrency',\n  })\n\nlet command = (extend, timeout) =>\n  _.flow(\n    status(extend),\n    clearStatus(timeout),\n    concurrency(extend),\n    error(extend)\n  )\n\nlet deprecate = (subject, version, alternative) =>\n  aspectSync({\n    before: () =>\n      console.warn(\n        `\\`${subject}\\` is deprecated${version ? ` as of ${version}` : ''}${\n          alternative ? ` in favor of \\`${alternative}\\`` : ''\n        } ${_.trim((Error().stack || '').split('\\n')[3])}`\n      ),\n  })\n\nexport let aspects = {\n  logs,\n  error,\n  errors,\n  status,\n  deprecate,\n  clearStatus,\n  concurrency,\n  command,\n}\n","import _ from 'lodash/fp'\nimport { findIndexed } from './conversion'\nimport { push, dotEncoder, slashEncoder } from './array'\n\nexport let isTraversable = x => _.isArray(x) || _.isPlainObject(x)\nexport let traverse = x => isTraversable(x) && !_.isEmpty(x) && x\n\nexport let walk = (next = traverse) => (\n  pre,\n  post = _.noop,\n  parents = [],\n  parentIndexes = []\n) => (tree, index) =>\n  pre(tree, index, parents, parentIndexes) ||\n  findIndexed(\n    walk(next)(pre, post, [tree, ...parents], [index, ...parentIndexes]),\n    next(tree, index, parents, parentIndexes) || []\n  ) ||\n  post(tree, index, parents, parentIndexes)\n\n// async/await is so much cleaner but causes regeneratorRuntime shenanigans\n// export let findIndexedAsync = async (f, data) => {\n//   for (let key in data) {\n//     if (await f(data[key], key, data)) return data[key]\n//   }\n// }\n// The general idea here is to keep popping off key/value pairs until we hit something that matches\nexport let findIndexedAsync = (f, data, remaining = _.toPairs(data)) => {\n  if (!remaining.length) return\n  let [[key, val], ...rest] = remaining\n  return Promise.resolve(f(val, key, data)).then(result =>\n    result ? val : rest.length ? findIndexedAsync(f, data, rest) : undefined\n  )\n}\n\nexport let walkAsync = (next = traverse) => (\n  pre,\n  post = _.noop,\n  parents = [],\n  parentIndexes = []\n) => (tree, index) =>\n  Promise.resolve(pre(tree, index, parents, parentIndexes))\n    .then(\n      preResult =>\n        preResult ||\n        findIndexedAsync(\n          walkAsync(next)(\n            pre,\n            post,\n            [tree, ...parents],\n            [index, ...parentIndexes]\n          ),\n          next(tree, index, parents, parentIndexes) || []\n        )\n    )\n    .then(stepResult => stepResult || post(tree, index, parents, parentIndexes))\n\nexport let transformTree = (next = traverse) =>\n  _.curry((f, x) => {\n    let result = _.cloneDeep(x)\n    walk(next)(f)(result)\n    return result\n  })\n\nexport let reduceTree = (next = traverse) =>\n  _.curry((f, result, tree) => {\n    walk(next)((...x) => {\n      result = f(result, ...x)\n    })(tree)\n    return result\n  })\n\nexport let treeToArrayBy = (next = traverse) =>\n  _.curry((fn, tree) => reduceTree(next)((r, x) => push(fn(x), r), [], tree))\nexport let treeToArray = (next = traverse) => treeToArrayBy(next)(x => x)\n\nexport let leaves = (next = traverse) =>\n  _.flow(treeToArray(next), _.reject(next))\n\nexport let treeLookup = (next = traverse, buildIteratee = _.identity) =>\n  _.curry((path, tree) =>\n    _.reduce(\n      (tree, path) => _.find(buildIteratee(path), next(tree)),\n      tree,\n      path\n    )\n  )\n\nexport let keyTreeByWith = (next = traverse) =>\n  _.curry((transformer, groupIteratee, x) =>\n    _.flow(\n      treeToArrayBy(next)(_.iteratee(groupIteratee)),\n      _.uniq,\n      _.keyBy(_.identity),\n      _.mapValues(group =>\n        transformTree(next)(node => {\n          let matches = _.iteratee(groupIteratee)(node) === group\n          transformer(node, matches, group)\n        }, x)\n      )\n    )(x)\n  )\n\n// Flat Tree\nexport let treeKeys = (x, i, xs, is) => [i, ...is]\nexport let treeValues = (x, i, xs) => [x, ...xs]\nexport let treePath = (build = treeKeys, encoder = dotEncoder) => (...args) =>\n  (encoder.encode || encoder)(build(...args).reverse())\nexport let propTreePath = prop =>\n  treePath(_.flow(treeValues, _.map(prop)), slashEncoder)\n\nexport let flattenTree = (next = traverse) => (buildPath = treePath()) =>\n  reduceTree(next)(\n    (result, node, ...x) => _.set([buildPath(node, ...x)], node, result),\n    {}\n  )\n\nexport let flatLeaves = (next = traverse) => _.reject(next)\n\nexport let tree = (next = traverse, buildIteratee = _.identity) => ({\n  walk: walk(next),\n  walkAsync: walkAsync(next),\n  transform: transformTree(next),\n  reduce: reduceTree(next),\n  toArrayBy: treeToArrayBy(next),\n  toArray: treeToArray(next),\n  leaves: leaves(next),\n  lookup: treeLookup(next, buildIteratee),\n  keyByWith: keyTreeByWith(next),\n  traverse: next,\n  flatten: flattenTree(next),\n  flatLeaves: flatLeaves(next),\n})\n","import _ from 'lodash/fp'\n\nexport let differentLast = (normalCase, lastCase) => (acc, i, list) =>\n  i === list.length - 1\n    ? _.iteratee(lastCase)(acc, i, list)\n    : _.iteratee(normalCase)(acc, i, list)\n","import _ from 'lodash/fp'\n\nexport * from './conversion'\nexport * from './collection'\nexport * from './function'\nexport * from './string'\nexport * from './object'\nexport * from './aspect'\nexport * from './array'\nexport * from './logic'\nexport * from './regex'\nexport * from './lang'\nexport * from './lens'\nexport * from './tree'\nexport * from './iterators'\n\nimport * as conversion from './conversion'\nimport * as collection from './collection'\nimport * as fn from './function'\nimport * as string from './string'\nimport * as object from './object'\nimport * as aspect from './aspect'\nimport * as array from './array'\nimport * as logic from './logic'\nimport * as regex from './regex'\nimport * as lang from './lang'\nimport * as lens from './lens'\nimport * as tree from './tree'\nimport * as iterators from './iterators'\n\n// Math\n// ----\nexport const greaterThanOne = _.lt(1)\n\n// Version\n// ----\nexport const VERSION = global.__VERSION__\n\n// Allows `import F from 'futil-js'`\nexport default {\n  ...conversion,\n  ...collection,\n  ...fn,\n  ...string,\n  ...object,\n  ...aspect,\n  ...array,\n  ...logic,\n  ...regex,\n  ...lang,\n  ...lens,\n  ...tree,\n  ...iterators,\n  greaterThanOne,\n  VERSION,\n}\n","import { map } from './collection'\nimport _ from 'lodash/fp'\nimport { when } from './logic'\nimport { intersperse } from './array'\nimport { differentLast } from './iterators'\n\nexport const wrap = (pre, post, content) =>\n  (pre || '') + content + (post || pre || '')\nexport const quote = _.partial(wrap, ['\"', '\"'])\nexport const parens = _.partial(wrap, ['(', ')'])\nexport const concatStrings = _.flow(_.compact, _.map(_.trim), _.join(' '))\nexport const trimStrings = map(when(_.isString, _.trim))\n\n// _.startCase does the trick, deprecate it!\nexport let autoLabel = _.startCase\nexport let autoLabelOption = a => ({\n  value: when(_.isUndefined, a)(a.value),\n  label: a.label || autoLabel(when(_.isUndefined, a)(a.value)),\n})\nexport let autoLabelOptions = _.map(autoLabelOption)\n\nexport let toSentenceWith = _.curry((separator, lastSeparator, array) =>\n  _.flow(\n    intersperse(\n      differentLast(\n        () => separator,\n        () => lastSeparator\n      )\n    ),\n    _.join('')\n  )(array)\n)\n\nexport let toSentence = toSentenceWith(', ', ' and ')\n\n// ((array -> object), array) -> string -> string\nexport let uniqueStringWith = _.curry((cachizer, initialKeys) => {\n  let f = x => {\n    let result = x\n    while (cache[result]) {\n      result = x + cache[x]\n      cache[x] += 1\n    }\n    cache[result] = (cache[result] || 0) + 1\n    return result\n  }\n  let cache = cachizer(initialKeys)\n  f.cache = cache\n  f.clear = () => {\n    cache = {}\n    f.cache = cache\n  }\n  return f\n})\n\nexport let uniqueString = (arr = []) =>\n  uniqueStringWith(_.countBy(_.identity), arr)\n","import _ from 'lodash/fp'\nimport { dotJoinWith, zipObjectDeepWith } from './array'\nimport { overNone, ifElse } from './logic'\nimport { isNotNil, isBlank } from './lang'\nimport {\n  reduceIndexed,\n  pickIn,\n  getIn,\n  hasIn,\n  mapIndexed,\n  mapValuesIndexed,\n} from './conversion'\nimport { findApply } from './collection'\nimport { aspects } from './aspect'\nimport { mapArgs } from './function'\nconst noCap = _.convert({ cap: false })\n\n// (k, v) -> {k: v}\nexport const singleObject = _.curry((key, value) => ({ [key]: value }))\nexport const singleObjectR = _.flip(singleObject)\n\n// Formerly objToObjArr\n// ({a, b}) -> [{a}, {b}]\nexport const chunkObject = value =>\n  _.isArray(value) ? value : _.map(_.spread(singleObject), _.toPairs(value))\n\n// Remove properties with falsey values: ({ a: 1, b: null, c: false}) -> {a:1}\nexport const compactObject = _.pickBy(_.identity)\n\nexport const isEmptyObject = _.isEqual({})\n\nexport const isNotEmptyObject = _.negate(isEmptyObject)\n\n// { a:1, b:{}, c:2 } -> { a:1, c:2 }\nexport const stripEmptyObjects = _.pickBy(isNotEmptyObject)\n\n// const crazyBS = (f, g) => (a, b) => f(a)(g(b))\n\n// { a: { b: 1, c: 2 } }, [ 'b' ] -> { a: { b: 1 } }\nexport const pickInto = (map, source) => _.mapValues(pickIn(source), map)\n\nexport const renameProperty = _.curry((from, to, target) =>\n  _.has(from, target)\n    ? _.flow(x => _.set(to, _.get(from, x), x), _.unset(from))(target)\n    : target\n)\n\n// { x:['a','b'], y:1 } -> [{ x:'a', y:1 }, { x:'b', y:1 }] just like mongo's `$unwind`\nexport const unwind = _.curry((prop, x) =>\n  ifElse(\n    _.isArray,\n    _.map(y => _.set(prop, y, x)),\n    _.stubArray,\n    _.get(prop, x)\n  )\n)\n// this one's _actually_ just like mongo's `$unwind`\nexport const unwindArray = _.curry((prop, xs) => _.flatMap(unwind(prop))(xs))\n\nexport const isFlatObject = overNone([_.isPlainObject, _.isArray])\n\n// { a: { b: { c: 1 } } } => { 'a.b.c' : 1 }\nexport const flattenObject = (input, paths) =>\n  reduceIndexed(\n    (output, value, key) =>\n      _.merge(\n        output,\n        (isFlatObject(value) ? singleObjectR : flattenObject)(\n          value,\n          dotJoinWith(isNotNil)([paths, key])\n        )\n      ),\n    {},\n    input\n  )\n\n// { 'a.b.c' : 1 } => { a: { b: { c: 1 } } }\nexport const unflattenObject = x => _.zipObjectDeep(_.keys(x), _.values(x))\n\n// Returns true if object keys are only elements from signature list (but does not require all signature keys to be present)\nexport const matchesSignature = _.curry(\n  (signature, value) =>\n    _.isObject(value) && !_.difference(_.keys(value), signature).length\n)\n\n// `_.matches` that returns true if one or more of the conditions match instead of all\nexport const matchesSome = _.flow(chunkObject, _.map(_.matches), _.overSome)\n\n// Checks if a property deep in a given item equals to a given value\nexport const compareDeep = _.curry(\n  (path, item, value) => _.get(path, item) === value\n)\n\n//Depreacted in favor of _.update version from lodash\nexport const mapProp = aspects.deprecate(\n  'mapProp',\n  '1.46.0',\n  '_.update'\n)(noCap.update)\n\n// `_.get` that returns the target object if lookup fails\nexport let getOrReturn = _.curry((prop, x) => _.getOr(x, prop, x))\n// `_.get` that returns the prop if lookup fails\nexport let alias = _.curry((prop, x) => _.getOr(prop, prop, x))\n// flipped alias\nexport let aliasIn = _.curry((x, prop) => _.getOr(prop, prop, x))\n\n// A `_.get` that takes an array of paths and returns the value at the first path that matches\nexport let cascade = _.curryN(2, (paths, obj, defaultValue) =>\n  _.flow(\n    findApply(x => x && _.iteratee(x)(obj)),\n    _.defaultTo(defaultValue)\n  )(paths)\n)\n\n// Flipped cascade\nexport let cascadeIn = _.curryN(2, (obj, paths, defaultValue) =>\n  cascade(paths, obj, defaultValue)\n)\n// A `_.get` that takes an array of paths and returns the first path that matched\nexport let cascadeKey = _.curry((paths, obj) => _.find(getIn(obj), paths))\n// A `_.get` that takes an array of paths and returns the first path that exists\nexport let cascadePropKey = _.curry((paths, obj) => _.find(hasIn(obj), paths))\n// A `_.get` that takes an array of paths and returns the first value that has an existing path\nexport let cascadeProp = _.curry((paths, obj) =>\n  _.get(cascadePropKey(paths, obj), obj)\n)\n\nexport let unkeyBy = _.curry((keyName, obj) =>\n  mapIndexed((val, key) => _.extend(val, { [keyName || key]: key }))(obj)\n)\n\nexport let simpleDiff = (original, deltas) => {\n  let o = flattenObject(original)\n  return _.flow(\n    flattenObject,\n    mapValuesIndexed((to, field) => ({ from: o[field], to })),\n    _.omitBy(x => _.isEqual(x.from, x.to))\n  )(deltas)\n}\nexport let simpleDiffArray = _.flow(simpleDiff, unkeyBy('field'))\n\nexport let diff = (original, deltas) => {\n  let o = flattenObject(original)\n  let d = flattenObject(deltas)\n  return _.flow(\n    mapValuesIndexed((_, field) => ({ from: o[field], to: d[field] })),\n    _.omitBy(x => _.isEqual(x.from, x.to))\n  )(_.merge(o, d))\n}\nexport let diffArray = _.flow(diff, unkeyBy('field'))\n\n// A `_.pick` that mutates the object\nexport let pickOn = (paths = [], obj = {}) =>\n  _.flow(\n    _.keys,\n    _.map(key => {\n      if (!_.includes(key, paths)) {\n        delete obj[key]\n      }\n    })\n  )(obj)\n\nlet mergeArrays = (objValue, srcValue) =>\n  _.isArray(objValue) ? objValue.concat(srcValue) : undefined\n\n// Straight from the lodash docs\nexport let mergeAllArrays = _.mergeAllWith(mergeArrays)\n// { a: [x, y, z], b: [x] } -> { x: [a, b], y: [a], z: [a] }\nexport let invertByArray = _.flow(\n  mapIndexed((arr, key) => zipObjectDeepWith(arr, () => [key])),\n  mergeAllArrays\n)\n\n// key -> { a: { x: 1 }, b: { y: 2 } } -> { a: { x: 1, key: 'a' }, b: { y: 2, key: 'b' } }\nexport const stampKey = _.curry((key, x) =>\n  mapValuesIndexed((val, k) => ({ ...val, [key]: k }), x)\n)\n\nexport let omitNil = x => _.omitBy(_.isNil, x)\nexport let omitNull = x => _.omitBy(_.isNull, x)\nexport let omitBlank = x => _.omitBy(isBlank, x)\nexport let omitEmpty = x => _.omitBy(_.isEmpty, x)\n\n// ([f, g]) -> (x, y) -> {...f(x, y), ...g(x, y)}\nexport let mergeOverAll = _.curryN(2, (fns, ...x) =>\n  _.flow(_.over(fns), _.mergeAll)(...x)\n)\n\n// customizer -> ([f, g]) -> (x, y) -> {...f(x, y), ...g(x, y)}\nexport let mergeOverAllWith = _.curryN(3, (customizer, fns, ...x) =>\n  _.flow(_.over(fns), _.mergeAllWith(customizer))(...x)\n)\n\n// ([f, g]) -> (x, y) -> {...f(x, y), ...g(x, y)}\nexport let mergeOverAllArrays = mergeOverAllWith(mergeArrays)\n\n// (x -> y) -> k -> {k: x} -> y\nexport let getWith = _.curry((customizer, path, object) =>\n  customizer(_.get(path, object))\n)\n\n// ({a} -> {b}) -> {a} -> {a, b}\nexport let expandObject = _.curry((transform, obj) => ({\n  ...obj,\n  ...transform(obj),\n}))\n\n// k -> (a -> {b}) -> {k: a} -> {a, b}\nexport let expandObjectBy = _.curry((key, fn, obj) =>\n  expandObject(getWith(fn, key))(obj)\n)\n\nexport let commonKeys = _.curryN(2, mapArgs(_.keys, _.intersection))\nlet findKeyIndexed = _.findKey.convert({ cap: false })\nexport let firstCommonKey = _.curry((x, y) =>\n  findKeyIndexed((val, key) => _.has(key, x), y)\n)\n","import _ from 'lodash/fp'\nimport { push, mergeRanges } from './array'\nimport { insertAtIndex } from './collection'\n\nexport const testRegex = _.curry((regex, str) => new RegExp(regex).test(str))\nexport const makeRegex = options => text => RegExp(text, options)\nexport const makeAndTest = options => _.flow(makeRegex(options), testRegex)\n\nexport const anyWordToRegexp = _.flow(_.words, _.join('|'))\n\nexport const wordsToRegexp = _.flow(\n  _.words,\n  _.map(x => `(?=.*${x}.*)`),\n  _.join(''),\n  x => `.*${x}.*`\n)\n\nconst matchWords = _.curry((buildRegex, x) => {\n  // Not inlining so that we don't create the regexp every time\n  const regexp = RegExp(buildRegex(x), 'gi')\n  return y => !!(y && y.match(regexp))\n})\n\nexport const matchAllWords = matchWords(wordsToRegexp)\n\nexport const matchAnyWord = matchWords(anyWordToRegexp)\n\nexport const allMatches = _.curry((regexStr, str) => {\n  let matched\n  const regex = new RegExp(regexStr, 'g')\n  const result = []\n\n  while ((matched = regex.exec(str)) !== null) {\n    result.push({\n      text: matched[0],\n      start: matched.index,\n      end: regex.lastIndex,\n    })\n  }\n\n  return result\n})\n\nexport const postings = _.curry((regex, str) => {\n  var match = regex.exec(str)\n  let result = []\n  if (regex.flags.indexOf('g') < 0 && match) {\n    result.push([match.index, match.index + match[0].length])\n  } else {\n    while (match) {\n      result.push([match.index, regex.lastIndex])\n      match = regex.exec(str)\n    }\n  }\n  return result\n})\n\nexport const postingsForWords = _.curry((string, str) =>\n  _.reduce(\n    (result, word) => push(postings(RegExp(word, 'gi'), str), result),\n    []\n  )(_.words(string))\n)\n\nexport const highlightFromPostings = _.curry((start, end, postings, str) => {\n  let offset = 0\n  _.each(posting => {\n    str = insertAtIndex(posting[0] + offset, start, str)\n    offset += start.length\n    str = insertAtIndex(posting[1] + offset, end, str)\n    offset += end.length\n  }, mergeRanges(postings))\n  return str\n})\n\nexport const highlight = _.curry((start, end, pattern, input) =>\n  highlightFromPostings(\n    start,\n    end,\n    _.isRegExp(pattern)\n      ? postings(pattern, input)\n      : _.flatten(postingsForWords(pattern, input)),\n    input\n  )\n)\n","import _ from 'lodash/fp'\nimport { setOn } from './conversion'\nimport { toggleElementBy } from './array'\nimport { when } from './logic'\n\n// Stubs\nexport let functionLens = val => (...x) => {\n  if (!x.length) return val\n  val = x[0]\n}\nexport let objectLens = val => ({\n  get: () => val,\n  set(x) {\n    val = x\n  },\n})\n\n// Lens Conversion\nexport let fnToObj = fn => ({\n  get: fn,\n  set: fn,\n})\nexport let objToFn = lens => (...values) =>\n  values.length ? lens.set(values[0]) : lens.get()\n\n// Lens Construction\nexport let lensProp = (field, source) => ({\n  get: () => _.get(field, source), //source[field],\n  set(value) {\n    setOn(field, value, source)\n    // source[field] = value\n  },\n})\n\n// NOTE: This used to use mapValues; however, doing so would sometimes cause issues\n// in some edge cases like trying to lens state coming from an inject function\n// in the mobx library. It would inadvertently cause the inject to re-run.\n// Using reduce here alleviates that issue.\nexport let lensOf = object =>\n  _.reduce(\n    (res, key) => {\n      res[key] = lensProp(key, object)\n      return res\n    },\n    {},\n    _.keys(object)\n  )\n\nexport let includeLens = (value, ...lens) => ({\n  get: () => _.includes(value, view(...lens)),\n  // Uniq is to ensure multiple calls to set(true) don't push multiple times since this is about membership of a set\n  set: x => set(_.uniq(toggleElementBy(!x, value, view(...lens))), ...lens),\n})\n\n// Lens Manipulation\n//let construct = (...lens) => (lens[1] ? lensProp(...lens) : lens[0])\nlet lensPair = (get, set) => ({ get, set })\nlet construct = (...args) =>\n  args[1]\n    ? _.every(_.isFunction, args)\n      ? lensPair(...args)\n      : lensProp(...args)\n    : when(_.isArray, stateLens)(args[0])\n\nlet read = lens => (lens.get ? lens.get() : lens())\nexport let view = (...lens) => read(construct(...lens))\nexport let views = (...lens) => () => view(...lens)\nlet write = (val, lens) => (lens.set ? lens.set(val) : lens(val))\nexport let set = _.curryN(2, (val, ...lens) => write(val, construct(...lens)))\nexport let sets = _.curryN(2, (val, ...lens) => () => set(val, ...lens))\nexport let setsWith = _.curry((f, ...lens) => x =>\n  set(_.iteratee(f)(x), ...lens)\n)\nexport let flip = (...lens) => () => set(!view(...lens), ...lens)\nexport let on = sets(true)\nexport let off = sets(false)\n\n// Lens Consumption\n// Map lens to dom event handlers\nlet binding = (value, getEventValue) => (...lens) => ({\n  [value]: view(...lens),\n  onChange: setsWith(getEventValue, ...lens),\n})\n// Dom events have relevent fields on the `target` property of event objects\nlet targetBinding = field =>\n  binding(field, when(_.hasIn(`target.${field}`), _.get(`target.${field}`)))\nexport let domLens = {\n  value: targetBinding('value'),\n  checkboxValues: _.flow(includeLens, targetBinding('checked')),\n  hover: (...lens) => ({\n    onMouseEnter: on(...lens),\n    onMouseLeave: off(...lens),\n  }),\n  focus: (...lens) => ({\n    onFocus: on(...lens),\n    onBlur: off(...lens),\n  }),\n  targetBinding,\n  binding,\n}\n\nexport let stateLens = ([value, set]) => ({ get: () => value, set })\n"],"sourceRoot":""}