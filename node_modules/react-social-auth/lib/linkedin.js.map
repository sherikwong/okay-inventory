{"version":3,"sources":["../src/linkedin.js"],"names":["init","appId","onSuccess","localStorage","linkedInLoginState","redirectUri","linkedInReactLoginRedirectUri","code","state","window","history","replaceState","type","authResponse","grant_type","client_id","redirect_uri","onClick","scope","location","href","length","encodeURIComponent"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,IAAIA,IAAI,GAAG,SAAPA,IAAO,OAA0B;AAAA,MAAvBC,KAAuB,QAAvBA,KAAuB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;;AAC1C,MAAIC,YAAY,CAACC,kBAAjB,EAAqC;AACnC,QAAIC,WAAW,GAAGF,YAAY,CAACG,6BAA/B;AACA,QAAIC,IAAI,GAAG,+BAAkB,MAAlB,CAAX;AACA,QAAIC,KAAK,GAAG,+BAAkB,OAAlB,CAAZ;AACAC,IAAAA,MAAM,CAACC,OAAP,CAAeC,YAAf,CAA4B,IAA5B,EAAkC,IAAlC,EAAwCN,WAAxC;;AACA,QAAIE,IAAI,IAAIC,KAAK,KAAKL,YAAY,CAACC,kBAAnC,EAAuD;AACrD,aAAOD,YAAY,CAACC,kBAApB;AACAF,MAAAA,SAAS,CAAC;AACRU,QAAAA,IAAI,EAAE,UADE;AAERC,QAAAA,YAAY,EAAE;AACZC,UAAAA,UAAU,EAAE,oBADA;AAEZP,UAAAA,IAAI,EAAJA,IAFY;AAGZQ,UAAAA,SAAS,EAAEd,KAHC;AAIZe,UAAAA,YAAY,EAAEX;AAJF;AAFN,OAAD,CAAT;AASD;AACF;AACF,CAnBM;;;;AAqBA,IAAIY,OAAO,GAAG,SAAVA,OAAU,QAIf;AAAA,MAHJhB,KAGI,SAHJA,KAGI;AAAA,0BAFJiB,KAEI;AAAA,MAFJA,KAEI,4BAFI,+BAEJ;AAAA,gCADJb,WACI;AAAA,MADJA,WACI,kCADUI,MAAM,CAACU,QAAP,CAAgBC,IAC1B;AACJjB,EAAAA,YAAY,CAACG,6BAAb,GAA6CD,WAA7C;AACAF,EAAAA,YAAY,CAACC,kBAAb,GAAkC,yBAAc;AAAEiB,IAAAA,MAAM,EAAE;AAAV,GAAd,CAAlC;AACAZ,EAAAA,MAAM,CAACU,QAAP,CAAgBC,IAAhB,0FAAuGnB,KAAvG,2BAA6HqB,kBAAkB,CAC7IjB,WAD6I,CAA/I,oBAEWF,YAAY,CAACC,kBAFxB,oBAEoDkB,kBAAkB,CACpEJ,KADoE,CAFtE;AAKD,CAZM","sourcesContent":["import { getQueryParameter } from './common'\nimport generateState from 'simple-random/browser'\n\nexport let init = ({ appId, onSuccess }) => {\n  if (localStorage.linkedInLoginState) {\n    let redirectUri = localStorage.linkedInReactLoginRedirectUri\n    let code = getQueryParameter('code')\n    let state = getQueryParameter('state')\n    window.history.replaceState(null, null, redirectUri)\n    if (code && state === localStorage.linkedInLoginState) {\n      delete localStorage.linkedInLoginState\n      onSuccess({\n        type: 'linkedin',\n        authResponse: {\n          grant_type: 'authorization_code',\n          code,\n          client_id: appId,\n          redirect_uri: redirectUri,\n        },\n      })\n    }\n  }\n}\n\nexport let onClick = ({\n  appId,\n  scope = 'r_basicprofile r_emailaddress',\n  redirectUri = window.location.href,\n}) => {\n  localStorage.linkedInReactLoginRedirectUri = redirectUri\n  localStorage.linkedInLoginState = generateState({ length: 8 })\n  window.location.href = `https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${appId}&redirect_uri=${encodeURIComponent(\n    redirectUri\n  )}&state=${localStorage.linkedInLoginState}&scope=${encodeURIComponent(\n    scope\n  )}`\n}\n"],"file":"linkedin.js"}