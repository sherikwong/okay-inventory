{"version":3,"sources":["../src/common.js"],"names":["loadScript","id","src","Promise","resolve","document","getElementById","siblingElement","_","head","getElementsByTagName","scriptElement","createElement","F","extendOn","onload","async","parentNode","insertBefore","hasProperties","curry","properties","instance","every","property","has","isNil","hasRequiredSettings","requiredSettings","join","getQueryParameter","name","window","match","RegExp","exec","location","search","decodeURIComponent","replace"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;AAEO,IAAIA,UAAU,GAAG,SAAbA,UAAa,CAACC,EAAD,EAAKC,GAAL;AAAA,SACtB,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AACrB,QAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;AACnC,UAAI,CAACA,QAAQ,CAACC,cAAT,CAAwBL,EAAxB,CAAL,EAAkC;AAChC,YAAIM,cAAc,GAAGC,eAAEC,IAAF,CAAOJ,QAAQ,CAACK,oBAAT,CAA8B,QAA9B,CAAP,CAArB;;AACA,YAAIC,aAAa,GAAGN,QAAQ,CAACO,aAAT,CAAuB,QAAvB,CAApB;AACAC,QAAAA,CAAC,CAACC,QAAF,CAAWH,aAAX,EAA0B;AAAEV,UAAAA,EAAE,EAAFA,EAAF;AAAMC,UAAAA,GAAG,EAAHA,GAAN;AAAWa,UAAAA,MAAM,EAAEX,OAAnB;AAA4BY,UAAAA,KAAK,EAAE;AAAnC,SAA1B;AACAT,QAAAA,cAAc,CAACU,UAAf,CAA0BC,YAA1B,CAAuCP,aAAvC,EAAsDJ,cAAtD;AACD;AACF;AACF,GATD,CADsB;AAAA,CAAjB;;;;AAYP,IAAIY,aAAa,GAAGX,eAAEY,KAAF,CAAQ,UAACC,UAAD,EAAaC,QAAb;AAAA,SAC1Bd,eAAEe,KAAF,CACE,UAAAC,QAAQ;AAAA,WAAIhB,eAAEiB,GAAF,CAAMD,QAAN,EAAgBF,QAAhB,KAA6B,CAACd,eAAEkB,KAAF,CAAQF,QAAR,EAAkBF,QAAlB,CAAlC;AAAA,GADV,EAEED,UAFF,CAD0B;AAAA,CAAR,CAApB;;AAOO,IAAIM,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAL,QAAQ,EAAI;AAC3C,MAAIM,gBAAgB,GAAG,CAAC,UAAD,EAAa,OAAb,EAAsB,WAAtB,EAAmC,WAAnC,CAAvB;;AACA,MAAI,CAACT,aAAa,CAACS,gBAAD,EAAmBN,QAAnB,CAAlB,EAAgD;AAC9C,kGAAuFM,gBAAgB,CAACC,IAAjB,CACrF,IADqF,CAAvF;AAGD,GAJD,MAIO;AACL,WAAO,IAAP;AACD;AACF,CATM;;;;AAWA,IAAIC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,IAAI,EAAI;AACrC,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,QAAMC,KAAK,GAAGC,MAAM,eAAQH,IAAR,cAAN,CAA8BI,IAA9B,CAAmCH,MAAM,CAACI,QAAP,CAAgBC,MAAnD,CAAd;AACA,WAAOJ,KAAK,IAAIK,kBAAkB,CAACL,KAAK,CAAC,CAAD,CAAL,CAASM,OAAT,CAAiB,KAAjB,EAAwB,GAAxB,CAAD,CAAlC;AACD;AACF,CALM","sourcesContent":["import _ from 'lodash/fp'\nimport * as F from 'futil-js'\n\nexport let loadScript = (id, src) =>\n  new Promise(resolve => {\n    if (typeof document !== 'undefined') {\n      if (!document.getElementById(id)) {\n        let siblingElement = _.head(document.getElementsByTagName('script'))\n        let scriptElement = document.createElement('script')\n        F.extendOn(scriptElement, { id, src, onload: resolve, async: true })\n        siblingElement.parentNode.insertBefore(scriptElement, siblingElement)\n      }\n    }\n  })\n\nlet hasProperties = _.curry((properties, instance) =>\n  _.every(\n    property => _.has(property, instance) && !_.isNil(property, instance),\n    properties\n  )\n)\n\nexport let hasRequiredSettings = instance => {\n  let requiredSettings = ['provider', 'appId', 'onSuccess', 'component']\n  if (!hasProperties(requiredSettings, instance)) {\n    throw `[Social Authentication] - A valid value for the following setting is required ${requiredSettings.join(\n      ', '\n    )}.`\n  } else {\n    return true\n  }\n}\n\nexport let getQueryParameter = name => {\n  if (typeof window !== 'undefined') {\n    const match = RegExp(`[?&]${name}=([^&]*)`).exec(window.location.search)\n    return match && decodeURIComponent(match[1].replace(/\\+/g, ' '))\n  }\n}\n"],"file":"common.js"}