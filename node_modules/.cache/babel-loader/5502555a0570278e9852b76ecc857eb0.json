{"ast":null,"code":"var _jsxFileName = \"/Users/sherikwong/Desktop/okay-inventory/src/components/authentication/authentication.tsx\";\nimport { Box } from 'grommet';\nimport React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport { withRouter } from \"react-router-dom\";\nimport { usersDB } from '../../database/users';\nimport { cookies } from '../../index';\nimport Logo from '../reusable/logo/logo';\nexport const IS_AUTHENTICATED = 'IS_AUTHENTICATED';\n\nconst Authentication = props => {\n  const onSuccess = res => {\n    usersDB.get(res.googleId).then(res => {\n      if (res) {\n        props.setAuthenticated(true);\n        const expires = new Date();\n        expires.setTime(expires.getTime() + 10 * 86400000);\n        cookies.set(IS_AUTHENTICATED, true, {\n          expires\n        });\n      }\n\n      ;\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Box, {\n    fill: true,\n    align: \"center\",\n    justify: \"center\",\n    id: \"authentication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    animated: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"486767954182-ts607v7hkaftr7harabtqtvkmcc005g0.apps.googleusercontent.com\",\n    onSuccess: onSuccess,\n    onFailure: onSuccess,\n    cookiePolicy: 'single_host_origin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Sign In\"));\n};\n\nexport default withRouter(Authentication);","map":{"version":3,"sources":["/Users/sherikwong/Desktop/okay-inventory/src/components/authentication/authentication.tsx"],"names":["Box","React","GoogleLogin","withRouter","usersDB","cookies","Logo","IS_AUTHENTICATED","Authentication","props","onSuccess","res","get","googleId","then","setAuthenticated","expires","Date","setTime","getTime","set","catch","error","console","log"],"mappings":";AAAA,SAASA,GAAT,QAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,IAAP,MAAiB,uBAAjB;AAGA,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;;AAEP,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAChC,QAAMC,SAAS,GAAGC,GAAG,IAAI;AACvBP,IAAAA,OAAO,CAACQ,GAAR,CAAYD,GAAG,CAACE,QAAhB,EACGC,IADH,CACQH,GAAG,IAAI;AACX,UAAIA,GAAJ,EAAS;AACPF,QAAAA,KAAK,CAACM,gBAAN,CAAuB,IAAvB;AAEA,cAAMC,OAAO,GAAG,IAAIC,IAAJ,EAAhB;AACAD,QAAAA,OAAO,CAACE,OAAR,CAAgBF,OAAO,CAACG,OAAR,KAAoB,KAAK,QAAzC;AAEAd,QAAAA,OAAO,CAACe,GAAR,CACEb,gBADF,EAEE,IAFF,EAGE;AACES,UAAAA;AADF,SAHF;AAOD;;AAAA;AACF,KAhBH,EAgBKK,KAhBL,CAgBWC,KAAK,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAlBH;AAmBD,GApBD;;AAsBA,sBACE,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAE,IAAX;AAAiB,IAAA,KAAK,EAAC,QAAvB;AAAgC,IAAA,OAAO,EAAC,QAAxC;AAAiD,IAAA,EAAE,EAAC,gBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAE,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAIE,oBAAC,WAAD;AACE,IAAA,QAAQ,EAAC,0EADX;AAEE,IAAA,SAAS,EAAEZ,SAFb;AAGE,IAAA,SAAS,EAAEA,SAHb;AAIE,IAAA,YAAY,EAAE,oBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,CADF;AAmBD,CA1CD;;AA4CA,eAAeP,UAAU,CAACK,cAAD,CAAzB","sourcesContent":["import { Box } from 'grommet';\nimport React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport { withRouter } from \"react-router-dom\";\nimport { usersDB } from '../../database/users';\nimport { cookies } from '../../index';\nimport { CookieOptions } from '../../../node_modules/@types/express-serve-static-core';\nimport Logo from '../reusable/logo/logo';\n\n\nexport const IS_AUTHENTICATED = 'IS_AUTHENTICATED';\n\nconst Authentication = (props) => {\n  const onSuccess = res => {\n    usersDB.get(res.googleId)\n      .then(res => {\n        if (res) {\n          props.setAuthenticated(true);\n\n          const expires = new Date();\n          expires.setTime(expires.getTime() + 10 * 86400000);\n\n          cookies.set(\n            IS_AUTHENTICATED,\n            true,\n            {\n              expires\n            } as CookieOptions\n          )\n        };\n      }).catch(error => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <Box fill={true} align=\"center\" justify=\"center\" id=\"authentication\">\n\n      <Logo animated={true}/>\n\n      <GoogleLogin\n        clientId=\"486767954182-ts607v7hkaftr7harabtqtvkmcc005g0.apps.googleusercontent.com\"\n        onSuccess={onSuccess}\n        onFailure={onSuccess}\n        cookiePolicy={'single_host_origin'}\n      >Sign In</GoogleLogin>\n\n\n\n\n\n\n    </Box >\n  )\n}\n\nexport default withRouter(Authentication);\n"]},"metadata":{},"sourceType":"module"}